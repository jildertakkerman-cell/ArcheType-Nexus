<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Earthbound Archetype</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="assets/js/card-loader.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Cinzel+Decorative:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #100c14; /* Deep Purple-Black */
            color: #e0d8f0; /* Light Lavender */
        }
        .container {
            max-width: 1024px;
        }
        .card {
            background-color: #201a29; /* Darker Purple */
            border-radius: 1rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
            border: 1px solid #4a3a69; /* Muted Purple Border */
        }
        .combo-step-card {
            background-color: #2c243b;
            border: 1px solid #5a4a7d;
        }
        .pro-con-card {
            background-color: #2c243b;
            border: 1px solid #5a4a7d;
        }
        .card-image-container {
            width: 100%;
            max-width: 180px;
            flex-shrink: 0;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeIn {
            animation: fadeIn 0.5s ease-in-out forwards;
        }
        .card-placeholder {
            background-color: #1a1523;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            font-size: 0.75rem;
            line-height: 1rem;
            font-weight: bold;
            height: 100%;
            min-height: 250px; 
            border-radius: 0.5rem;
            padding: 0.5rem;
            box-shadow: inset 0 0 10px #000;
        }
        .pro-icon { color: #5eead4; } /* Teal */
        .con-icon { color: #f787a4; } /* Pink */
        .neutral-icon { color: #a5b4fc; } /* Indigo */
        .text-accent { color: #a78bfa; } /* Bright Lavender/Purple */
        .arrow-color { color: #8b5cf6; }
        .heading-underline {
            border-bottom: 2px solid #8b5cf6;
            display: inline-block;
            padding-bottom: 0.25rem;
        }
        .lore-link {
            color: #c4b5fd;
            font-weight: bold;
            text-decoration: none;
            border-bottom: 1px dotted #c4b5fd;
            transition: color 0.3s;
        }
        .lore-link:hover {
            color: #fff;
        }

        /* --- NAZCA LINES BANNER STYLES --- */
        .banner-header {
            position: relative;
            height: 180px;
            background: linear-gradient(135deg, #f4a460 0%, #daa520 30%, #cd853f 70%, #8b4513 100%);
            border-radius: 1rem;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 2rem;
            margin-bottom: 2.5rem;
            border: 3px solid #8b4513;
            box-shadow: 
                0 12px 40px rgba(139, 69, 19, 0.4),
                inset 0 0 50px rgba(244, 164, 96, 0.2);
        }

        .nazca-lines-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.2;
            z-index: 1;
        }

        .banner-header::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: 
                radial-gradient(ellipse 200px 100px at 20% 50%, rgba(139, 69, 19, 0.1) 0%, transparent 100%),
                radial-gradient(ellipse 150px 80px at 80% 30%, rgba(210, 180, 140, 0.1) 0%, transparent 100%),
                linear-gradient(45deg, transparent 40%, rgba(244, 164, 96, 0.1) 50%, transparent 60%);
            z-index: 2;
        }

        .banner-header h1, .banner-header p {
            position: relative;
            z-index: 3;
            color: #2d1810;
            text-shadow: 
                0 0 20px rgba(139, 69, 19, 0.5),
                0 0 40px rgba(244, 164, 96, 0.3),
                2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .banner-header h1 {
            font-family: 'Cinzel Decorative', cursive;
            font-size: 3rem;
            font-weight: 700;
            letter-spacing: 3px;
            margin-bottom: 0.5rem;
        }

        .banner-header p {
            font-size: 1.2rem;
            color: #5d4037;
            font-weight: 600;
        }

        @keyframes nazcaLine {
            0% { stroke-dashoffset: 1000; }
            100% { stroke-dashoffset: 0; }
        }

        @media (min-width: 768px) {
             .banner-header { margin-bottom: 4rem; height: 200px; }
             .banner-header h1 { font-size: 4rem; }
             .banner-header p { font-size: 1.3rem; }
        }
                    /* --- Yu-Gi-Oh! Themed Home Button Styles --- */
        .ygo-home-button {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
            background: linear-gradient(135deg, #1e1b4b 0%, #312e81 50%, #1e1b4b 100%);
            color: white;
            border: 2px solid #6366f1;
            border-radius: 12px;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 
                0 4px 15px rgba(99, 102, 241, 0.4),
                0 0 20px rgba(99, 102, 241, 0.2);
            transition: all 0.3s ease;
            cursor: pointer;
            text-decoration: none;
            overflow: hidden;
        }
        
        .ygo-home-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 30% 30%, rgba(99, 102, 241, 0.2) 0%, transparent 50%),
                radial-gradient(circle at 70% 70%, rgba(139, 92, 246, 0.2) 0%, transparent 50%);
            animation: ygoButtonPulse 3s ease-in-out infinite;
            pointer-events: none;
        }
        
        .ygo-home-button:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 
                0 8px 25px rgba(99, 102, 241, 0.6),
                0 0 30px rgba(99, 102, 241, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            border-color: #8b5cf6;
        }
        
        .ygo-home-button:active {
            transform: translateY(-1px) scale(1.02);
        }
        
        .ygo-home-button i {
            font-size: 22px;
            position: relative;
            z-index: 2;
            text-shadow: 0 0 10px rgba(99, 102, 241, 0.8);
            animation: ygoIconGlow 2s ease-in-out infinite alternate;
        }
        
        .ygo-home-button .ygo-home-text {
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 10px;
            font-weight: 600;
            color: #a5b4fc;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8);
            opacity: 0;
            transition: opacity 0.3s ease;
            white-space: nowrap;
            pointer-events: none;
        }
        
        .ygo-home-button:hover .ygo-home-text {
            opacity: 1;
        }
        
        @keyframes ygoButtonPulse {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 1; }
        }
        
        @keyframes ygoIconGlow {
            0% { 
                text-shadow: 
                    0 0 10px rgba(99, 102, 241, 0.8),
                    0 0 20px rgba(139, 92, 246, 0.4);
            }
            100% { 
                text-shadow: 
                    0 0 15px rgba(99, 102, 241, 1),
                    0 0 30px rgba(139, 92, 246, 0.6),
                    0 0 40px rgba(59, 130, 246, 0.3);
            }
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            .ygo-home-button {
                width: 50px;
                height: 50px;
                top: 15px;
                left: 15px;
            }
            
            .ygo-home-button i {
                font-size: 18px;
            }
        }
    </style>
</head>
<body class="p-4 md:p-8">
    <!-- Yu-Gi-Oh! Themed Home Button -->
    <a href="index-refactored.html" class="ygo-home-button" title="Return to Archetype Nexus">
        <i class="fas fa-home"></i>
        <span class="ygo-home-text">NEXUS</span>
    </a>

<div class="container mx-auto">
        <!-- Nazca Lines Themed Banner -->
        <header class="banner-header text-center">
            <!-- Nazca Lines Background Pattern -->
            <svg class="nazca-lines-bg" viewBox="0 0 800 180" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <pattern id="sandTexture" patternUnits="userSpaceOnUse" width="20" height="20">
                        <circle cx="5" cy="5" r="1" fill="rgba(139, 69, 19, 0.15)"/>
                        <circle cx="15" cy="10" r="0.5" fill="rgba(210, 180, 140, 0.15)"/>
                        <circle cx="10" cy="15" r="0.8" fill="rgba(244, 164, 96, 0.15)"/>
                    </pattern>
                </defs>
                <rect width="800" height="180" fill="url(#sandTexture)"/>
                
                <!-- Nazca Condor and Geometric Lines -->
                <g stroke="rgba(139, 69, 19, 0.4)" stroke-width="2" fill="none">
                    <!-- Main condor outline -->
                    <path d="M50 90 Q150 40 250 90 Q350 140 450 90 Q550 40 650 90 Q700 65 750 90" 
                          stroke-dasharray="8,4" 
                          style="animation: nazcaLine 12s ease-in-out infinite;"/>
                    
                    <!-- Geometric patterns resembling Nazca geoglyphs -->
                    <circle cx="200" cy="90" r="25" stroke-dasharray="4,4"/>
                    <polygon points="400,60 420,80 400,100 380,80" stroke-dasharray="3,3"/>
                    <path d="M600 70 L620 90 L600 110 L580 90 Z" stroke-dasharray="5,5"/>
                    
                    <!-- Spider and monkey lines -->
                    <path d="M100 130 Q200 110 300 130" stroke-dasharray="6,6"/>
                    <path d="M500 50 Q600 70 700 50" stroke-dasharray="7,7"/>
                    
                    <!-- Additional geometric symbols -->
                    <line x1="150" y1="50" x2="150" y2="130" stroke-dasharray="2,2"/>
                    <line x1="350" y1="60" x2="350" y2="120" stroke-dasharray="2,2"/>
                    <line x1="550" y1="55" x2="550" y2="125" stroke-dasharray="2,2"/>
                </g>
                
                <!-- Ancient desert symbols -->
                <g fill="rgba(139, 69, 19, 0.25)">
                    <circle cx="100" cy="40" r="2"/>
                    <circle cx="300" cy="35" r="1.5"/>
                    <circle cx="500" cy="145" r="2"/>
                    <circle cx="700" cy="40" r="1.5"/>
                    <polygon points="250,45 252,47 250,49 248,47"/>
                    <polygon points="450,135 452,137 450,139 448,137"/>
                </g>
            </svg>
            
            <h1 class="text-4xl md:text-6xl font-extrabold mb-2">Earthbound</h1>
            <p class="text-lg md:text-xl">Ancient Powers of the Nazca Lines ï¿½ Immortal Geoglyphs Awakened</p>
        </header>

        <!-- Executive Summary Section -->
        <section class="mb-10 md:mb-16 animate-fadeIn">
            <div class="card p-6">
                <h2 class="text-xl md:text-2xl font-bold text-white mb-4">Executive Summary</h2>
                <p class="text-purple-200">
                    The <strong class="text-accent font-bold">Earthbound</strong> archetype, once a relic of the 5D's era known for its colossal but fragile "Immortal" boss monsters, has been completely reinvented. New support in the form of "Earthbound Prisoner" and "Earthbound Servant" monsters has transformed the deck from a slow, tribute-based strategy into a dynamic, combo-centric engine focused on explosive Synchro and Fusion summoning. The modern strategy leverages a tight, consistent core to establish powerful boards, using the iconic Immortals not as a primary goal, but as a decisive finishing blow, <a href="https://yugipedia.com/wiki/Nazca_Lines" target="_blank" class="lore-link">drawing power from the very ley lines of the earth</a> to secure victory.
                </p>
            </div>
        </section>

        <!-- The Pantheon Section -->
        <section class="mb-10 md:mb-16 animate-fadeIn" style="animation-delay: 0.1s;">
            <h2 class="text-xl md:text-3xl font-bold text-white mb-6 text-center">The Earthbound Pantheon: Core Components</h2>
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <!-- Prisoners -->
                <div class="card p-6">
                    <div class="flex items-center mb-4">
                        <i class="fas fa-link text-3xl text-purple-300 mr-4"></i>
                        <h3 class="text-xl font-bold text-white">The Prisoners</h3>
                    </div>
                    <p class="text-sm text-purple-200">The heart of the engine. These Fiend monsters are the starters and extenders that facilitate the deck's primary Synchro and Fusion plays through a consistent, interlocking loop of searching and summoning.</p>
                </div>
                <!-- Servants -->
                <div class="card p-6">
                    <div class="flex items-center mb-4">
                        <i class="fas fa-star-of-life text-3xl text-purple-300 mr-4"></i>
                        <h3 class="text-xl font-bold text-white">The Servants</h3>
                    </div>
                    <p class="text-sm text-purple-200">The Extra Deck powerhouses. These Synchro and Fusion monsters provide board presence, card advantage, and powerful disruption, serving as the main offensive force of the modern strategy.</p>
                </div>
                <!-- Immortals -->
                <div class="card p-6">
                    <div class="flex items-center mb-4">
                        <i class="fas fa-crown text-3xl text-purple-300 mr-4"></i>
                        <h3 class="text-xl font-bold text-white">The Immortals</h3>
                    </div>
                    <p class="text-sm text-purple-200">The alternate win condition. Relegated from main bosses to a compact OTK package, the classic Immortals are now used as a high-impact tool to close out the game decisively.</p>
                </div>
            </div>
        </section>

        <!-- Core Combo Walkthrough Section -->
        <section class="mb-10 md:mb-16 animate-fadeIn" style="animation-delay: 0.2s;">
            <h2 class="text-xl md:text-3xl font-bold text-white mb-6 text-center">Core Combo: The Harmonic Fusion Sequence</h2>
            <p class="text-purple-200 mb-8 text-center max-w-2xl mx-auto">The entire modern engine is built to resolve one card: <strong class="text-accent font-bold">Harmonic Synchro Fusion</strong>. This walkthrough shows the simplest path from one card to a powerful board.</p>
            <div class="flex flex-col items-center gap-6">
                <!-- Step 1 -->
                <div class="card p-6 combo-step-card w-full max-w-lg">
                    <div class="flex flex-col md:flex-row items-center md:items-start gap-4">
                        <div id="stone-sweeper-img-container" class="card-image-container flex-shrink-0 card-placeholder">Earthbound Prisoner Stone Sweeper</div>
                        <div>
                            <div class="flex items-center mb-2">
                                <span class="bg-[#1a1523] text-white rounded-full h-8 w-8 flex items-center justify-center font-bold mr-3">1</span>
                                <h3 class="text-lg font-bold">Discard and Search</h3>
                            </div>
                            <p class="text-purple-200">Discard <strong class="text-accent font-bold">Stone Sweeper</strong> from hand to search for <strong class="text-accent font-bold">Ground Keeper</strong>, the deck's primary Tuner and extender.</p>
                        </div>
                    </div>
                </div>
                <!-- Arrow -->
                <div class="w-full flex justify-center">
                    <svg class="h-10 w-10 arrow-color" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
                    </svg>
                </div>
                <!-- Step 2 -->
                <div class="card p-6 combo-step-card w-full max-w-lg">
                     <div class="flex flex-col md:flex-row items-center md:items-start gap-4">
                        <div id="ground-keeper-img-container" class="card-image-container flex-shrink-0 card-placeholder">Earthbound Prisoner Ground Keeper</div>
                        <div>
                            <div class="flex items-center mb-2">
                                <span class="bg-[#1a1523] text-white rounded-full h-8 w-8 flex items-center justify-center font-bold mr-3">2</span>
                                <h3 class="text-lg font-bold">Summon and Revive</h3>
                            </div>
                            <p class="text-purple-200">Normal Summon <strong class="text-accent font-bold">Ground Keeper</strong>. Its on-summon effect triggers, Special Summoning <strong class="text-accent font-bold">Stone Sweeper</strong> back from the Graveyard.</p>
                        </div>
                    </div>
                </div>
                <!-- Arrow -->
                <div class="w-full flex justify-center">
                    <svg class="h-10 w-10 arrow-color" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
                    </svg>
                </div>
                <!-- Step 3 -->
                <div class="card p-6 combo-step-card w-full max-w-lg">
                     <div class="flex flex-col md:flex-row items-center md:items-start gap-4">
                        <div id="harmonic-img-container" class="card-image-container flex-shrink-0 card-placeholder">Harmonic Synchro Fusion</div>
                        <div>
                            <div class="flex items-center mb-2">
                                <span class="bg-[#1a1523] text-white rounded-full h-8 w-8 flex items-center justify-center font-bold mr-3">3</span>
                                <h3 class="text-lg font-bold">Unleash the Servants</h3>
                            </div>
                            <p class="text-purple-200">With a Tuner and non-Tuner on field, activate <strong class="text-accent font-bold">Harmonic Synchro Fusion</strong> to summon both <strong class="text-accent font-bold">Geo Gremlin</strong> (Synchro) and <strong class="text-accent font-bold">Geo Gremlina</strong> (Fusion) simultaneously, generating massive advantage.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Endboard Section -->
        <section class="mb-10 md:mb-16 animate-fadeIn" style="animation-delay: 0.3s;">
            <h2 class="text-xl md:text-3xl font-bold text-white mb-6 text-center">Typical Endboard Threats</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mx-auto max-w-4xl">
                <!-- Geo Grasha -->
                <div class="card p-6 pro-con-card">
                    <h3 class="text-xl font-bold text-white mb-4 text-center">The Board Wipe: Geo Grasha</h3>
                    <div class="flex justify-center mb-4">
                        <div id="geo-grasha-img-container" class="card-image-container card-placeholder">Earthbound Servant Geo Grasha</div>
                    </div>
                    <ul class="list-disc list-inside space-y-2 text-purple-200">
                        <li><strong class="text-accent font-bold">Battle Dominance:</strong> Changes any monster it battles to 0 ATK/DEF.</li>
                        <li><strong class="text-accent font-bold">Total Annihilation:</strong> When an opponent's monster is destroyed, it triggers a non-targeting effect to destroy all cards your opponent controls.</li>
                    </ul>
                </div>
                <!-- Immortal OTK -->
                <div class="card p-6 pro-con-card">
                    <h3 class="text-xl font-bold text-white mb-4 text-center">The Finisher: Immortal OTK</h3>
                    <div class="flex justify-center mb-4">
                        <div id="ccapac-apu-img-container" class="card-image-container card-placeholder">Earthbound Immortal Ccapac Apu</div>
                    </div>
                    <ul class="list-disc list-inside space-y-2 text-purple-200">
                        <li><strong class="text-accent font-bold">Life Point Drain:</strong> Earthbound Greater Linewalker sets the opponent's Life Points to 3000.</li>
                        <li><strong class="text-accent font-bold">Lethal Direct Attack:</strong> A 3000 ATK Immortal like Ccapac Apu attacks directly for game.</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Pros, Cons, and Tech Cards Section -->
        <section class="mb-10 md:mb-16 animate-fadeIn" style="animation-delay: 0.4s;">
            <h2 class="text-xl md:text-3xl font-bold text-white mb-6 text-center">Competitive Analysis</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Strengths -->
                <div class="card p-6 pro-con-card">
                    <h3 class="text-xl font-bold text-teal-300 mb-4">Strengths</h3>
                    <ul class="list-disc list-inside space-y-2 text-purple-200">
                        <li><span class="pro-icon"><i class="fas fa-bolt"></i></span> <strong class="text-teal-300 font-bold">Explosive Potential:</strong> Can generate overwhelming board presence from one or two cards.</li>
                        <li><span class="pro-icon"><i class="fas fa-cogs"></i></span> <strong class="text-teal-300 font-bold">High Consistency:</strong> The "Prisoner" engine forms a tight, reliable loop for starting combos.</li>
                        <li><span class="pro-icon"><i class="fas fa-puzzle-piece"></i></span> <strong class="text-teal-300 font-bold">Engine Flexibility:</strong> The compact core integrates seamlessly with other powerful engines like Runick.</li>
                    </ul>
                </div>
                <!-- Weaknesses -->
                <div class="card p-6 pro-con-card">
                    <h3 class="text-xl font-bold text-pink-400 mb-4">Weaknesses</h3>
                    <ul class="list-disc list-inside space-y-2 text-purple-200">
                        <li><span class="con-icon"><i class="fas fa-hand-paper"></i></span> <strong class="text-pink-400 font-bold">Normal Summon Reliant:</strong> A single negation on the Normal Summon of a "Prisoner" can end the turn.</li>
                        <li><span class="con-icon"><i class="fas fa-lock"></i></span> <strong class="text-pink-400 font-bold">Extra Deck Lock:</strong> Key starters lock you into only Fusion/Synchro monsters, cutting off generic Link plays.</li>
                        <li><span class="con-icon"><i class="fas fa-meteor"></i></span> <strong class="text-pink-400 font-bold">Staple Vulnerability:</strong> Highly susceptible to common hand traps like Nibiru, Ash Blossom, and Droll & Lock Bird.</li>
                    </ul>
                </div>
                <!-- Synergies -->
                <div class="card p-6 pro-con-card">
                    <h3 class="text-xl font-bold text-indigo-300 mb-4">Key Synergies</h3>
                    <ul class="list-disc list-inside space-y-2 text-purple-200">
                        <li><span class="neutral-icon"><i class="fas fa-book-open"></i></span> <strong class="text-indigo-300 font-bold">Runick Engine:</strong> The premier pairing. Runick Fountain provides the Field Spell requirement, card draw, and disruption, perfectly covering the Earthbound engine's weaknesses.</li>
                        <li><span class="neutral-icon"><i class="fas fa-fire"></i></span> <strong class="text-indigo-300 font-bold">Dark World:</strong> Leverages discard effects and shared Fiend-typing for explosive, advantage-generating plays.</li>
                    </ul>
                </div>
            </div>
        </section>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            // --- NAZCA LINES BANNER ANIMATION ---
            const canvas = document.getElementById('nazca-banner');
            if (canvas) {
                const ctx = canvas.getContext('2d');
                let lines = [];
                const lineCount = 30;

                const setCanvasSize = () => {
                    canvas.width = canvas.offsetWidth;
                    canvas.height = canvas.offsetHeight;
                };

                class Line {
                    constructor() {
                        this.x = Math.random() * canvas.width;
                        this.y = Math.random() * canvas.height;
                        this.length = Math.random() * 150 + 50;
                        this.angle = Math.random() * Math.PI * 2;
                        this.speed = Math.random() * 0.3 + 0.1;
                        this.opacity = 0;
                        this.fadeSpeed = Math.random() * 0.01 + 0.005;
                        this.isFadingIn = true;
                    }

                    update() {
                        this.x += Math.cos(this.angle) * this.speed;
                        this.y += Math.sin(this.angle) * this.speed;

                        if (this.isFadingIn) {
                            this.opacity += this.fadeSpeed;
                            if (this.opacity >= (Math.random() * 0.3 + 0.2)) {
                                this.isFadingIn = false;
                            }
                        } else {
                            this.opacity -= this.fadeSpeed;
                            if (this.opacity <= 0) {
                                this.reset();
                            }
                        }
                    }

                    draw() {
                        ctx.beginPath();
                        ctx.moveTo(this.x, this.y);
                        ctx.lineTo(this.x + Math.cos(this.angle) * this.length, this.y + Math.sin(this.angle) * this.length);
                        ctx.strokeStyle = `rgba(167, 139, 250, ${this.opacity})`;
                        ctx.lineWidth = 1.5;
                        ctx.stroke();
                    }
                    
                    reset() {
                        this.x = Math.random() * canvas.width;
                        this.y = Math.random() * canvas.height;
                        this.length = Math.random() * 150 + 50;
                        this.angle = Math.random() * Math.PI * 2;
                        this.speed = Math.random() * 0.3 + 0.1;
                        this.opacity = 0;
                        this.isFadingIn = true;
                    }
                }

                function init() {
                    lines = [];
                    for (let i = 0; i < lineCount; i++) {
                        lines.push(new Line());
                    }
                }

                function animate() {
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                    lines.forEach(line => {
                        line.update();
                        line.draw();
                    });
                    requestAnimationFrame(animate);
                }

                setCanvasSize();
                init();
                animate();

                window.addEventListener('resize', () => {
                    setCanvasSize();
                    init();
                });
            }

            // --- SCRIPT FOR CARD IMAGES ---
            async function fetchAndDisplayCardImage(cardName, containerId) {
                const container = document.getElementById(containerId);
                if (!container) return;

                const apiUrl = `https://db.ygoprodeck.com/api/v7/cardinfo.php?name=${encodeURIComponent(cardName)}`;

                try {
                    const response = await fetch(apiUrl);
                    if (!response.ok) throw new Error(`API error: ${response.status}`);
                    const data = await response.json();
                    const imageUrl = data?.data?.[0]?.card_images?.[0]?.image_url;

                    if (imageUrl) {
                        const img = document.createElement('img');
                        img.src = imageUrl;
                        img.alt = cardName;
                        img.className = 'w-full h-auto rounded-lg shadow-md animate-fadeIn';
                        container.innerHTML = '';
                        container.appendChild(img);
                    } else {
                        throw new Error("Image URL not found.");
                    }
                } catch (error) {
                    console.error(`Failed to fetch image for "${cardName}":`, error);
                    container.innerHTML = `<div class="card-placeholder animate-fadeIn">${cardName}</div>`;
                }
            }

            const cardsToLoad = {
                'stone-sweeper-img-container': 'Earthbound Prisoner Stone Sweeper',
                'ground-keeper-img-container': 'Earthbound Prisoner Ground Keeper',
                'harmonic-img-container': 'Harmonic Synchro Fusion',
                'geo-grasha-img-container': 'Earthbound Servant Geo Grasha',
                'ccapac-apu-img-container': 'Earthbound Immortal Ccapac Apu'
            };

            for (const [containerId, cardName] of Object.entries(cardsToLoad)) {
                fetchAndDisplayCardImage(cardName, containerId);
            }
        });
    </script>
</body>
</html>



