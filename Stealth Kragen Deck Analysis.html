<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stealth Kragen Archetype Analysis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="assets/js/card-loader.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --bg-deep-sea: #010A1A;
            --bg-card: rgba(10, 25, 47, 0.75);
            --border-glow: rgba(56, 189, 248, 0.4);
            --text-primary: #e0f2fe;
            --text-secondary: #a5f3fc;
            --accent-cyan: #22d3ee;
            --accent-blue: #60a5fa;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-deep-sea);
            color: var(--text-primary);
        }
        .container {
            max-width: 1100px;
        }
        .font-mono {
            font-family: 'Roboto Mono', monospace;
        }

        /* --- Header & Banner --- */
        .banner-header {
            position: relative;
            background-color: #020617;
            border-radius: 0.75rem;
            overflow: hidden;
            border: 1px solid var(--border-glow);
            box-shadow: 0 0 25px rgba(2, 6, 23, 0.5);
        }
        #sonar-canvas {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: 1;
        }
        .banner-content {
            position: relative;
            z-index: 2;
            background: radial-gradient(ellipse at center, rgba(2, 6, 23, 0.5) 0%, rgba(2, 6, 23, 0.85) 80%);
            padding: 2rem;
        }
        .banner-header h1 {
            text-shadow: 0 0 10px var(--accent-cyan);
        }

        /* --- Redesigned Card Containers --- */
        .card {
            background: var(--bg-card);
            border-radius: 0.75rem;
            border: 1px solid var(--border-glow);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
            transition: all 0.3s ease;
        }
        .card:hover {
            border-color: var(--accent-cyan);
            transform: translateY(-4px);
            box-shadow: 0 8px 30px rgba(34, 211, 238, 0.1);
        }
        
        .card-image-container {
            width: 100%;
            max-width: 140px; /* Compact size */
            flex-shrink: 0;
            margin: 0 auto;
        }

        .card-placeholder {
            background-color: rgba(2, 6, 23, 0.8);
            border: 1px dashed var(--border-glow);
            border-radius: 0.5rem;
            height: 205px; /* Fixed height for consistency */
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0.5rem;
            text-align: center;
            font-size: 0.8rem;
            color: var(--text-secondary);
        }
        
        .combo-card {
            background: transparent;
            border-left: 3px solid var(--accent-blue);
            padding-left: 1.5rem;
            border-radius: 0;
        }

        .banlist-card {
            background-color: var(--bg-card);
            border-radius: 0.5rem;
            border-top: 2px solid var(--border-glow);
        }

        /* --- General Styling --- */
        .heading-underline {
            position: relative;
            padding-bottom: 0.5rem;
        }
        .heading-underline::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 3px;
            background: linear-gradient(90deg, var(--accent-cyan), var(--accent-blue));
            border-radius: 2px;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeIn {
            animation: fadeIn 0.6s ease-out forwards;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            text-align: left;
            padding: 0.75rem 1rem;
            border-bottom: 1px solid var(--border-glow);
        }
        th {
            background-color: rgba(14, 116, 144, 0.3);
            font-family: 'Roboto Mono', monospace;
            font-weight: 700;
        }
    </style>
</head>
<body class="p-4 md:p-8">
    <div class="container mx-auto">
        <!-- BANNER -->
        <header class="banner-header text-center mb-12">
            <canvas id="sonar-canvas"></canvas>
            <div class="banner-content">
                <h1 class="text-3xl md:text-5xl font-bold font-mono text-white mb-2">STEALTH KRAGEN</h1>
                <p class="text-lg md:text-xl text-cyan-200">A Deep Dive into Resource Attrition</p>
            </div>
        </header>

        <!-- SECTION 1: ANATOMY OF THE ARCHETYPE -->
        <section class="mb-12 animate-fadeIn">
            <h2 class="text-2xl md:text-3xl font-bold text-white mb-6 text-center heading-underline">Section 1: The Kragen Engine</h2>
            <p class="text-center text-sky-200 max-w-3xl mx-auto mb-8">
                The "Stealth Kragen" archetype is a minimal but potent engine focused on attrition and control. It doesn't rely on overwhelming attack power but instead grinds down the opponent's resources through a resilient, recursive loop between two key Extra Deck monsters.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Card 1: Kragen -->
                <div class="card p-6">
                    <h3 class="text-xl font-bold font-mono text-cyan-300 mb-4 text-center">Number 4: Stealth Kragen</h3>
                    <div id="kragen-img-container" class="card-image-container mb-4"></div>
                    <ul class="space-y-3 text-sky-100">
                        <li class="flex items-start"><i class="fas fa-water fa-fw mr-3 mt-1 text-cyan-400"></i><span><strong class="text-cyan-300">Attribute Lock:</strong> Continuously turns all monsters into WATER attribute.</span></li>
                        <li class="flex items-start"><i class="fas fa-times-circle fa-fw mr-3 mt-1 text-cyan-400"></i><span><strong class="text-cyan-300">Targetless Pop:</strong> Quick Effect to destroy an opponent's WATER monster without targeting.</span></li>
                        <li class="flex items-start"><i class="fas fa-sync-alt fa-fw mr-3 mt-1 text-cyan-400"></i><span><strong class="text-cyan-300">Float & Recur:</strong> Summons two Spawns from the Extra Deck upon destruction.</span></li>
                    </ul>
                </div>
                <!-- Card 2: Spawn -->
                <div class="card p-6">
                    <h3 class="text-xl font-bold font-mono text-cyan-300 mb-4 text-center">Stealth Kragen Spawn</h3>
                    <div id="spawn-img-container" class="card-image-container mb-4"></div>
                     <ul class="space-y-3 text-sky-100">
                        <li class="flex items-start"><i class="fas fa-clone fa-fw mr-3 mt-1 text-cyan-400"></i><span><strong class="text-cyan-300">Shared Destruction:</strong> Also has a Quick Effect to destroy an opponent's WATER monster.</span></li>
                        <li class="flex items-start"><i class="fas fa-history fa-fw mr-3 mt-1 text-cyan-400"></i><span><strong class="text-cyan-300">Revival Protocol:</strong> If summoned by "Number 4", its destruction brings back the original from the GY.</span></li>
                        <li class="flex items-start"><i class="fas fa-exclamation-triangle fa-fw mr-3 mt-1 text-yellow-300"></i><span><strong class="text-yellow-300">Key Limitation:</strong> Cannot be revived from the GY itself, making the loop finite.</span></li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- SECTION 2: THE SUPPORT FLEET -->
        <section class="mb-12 animate-fadeIn" style="animation-delay: 0.2s;">
            <h2 class="text-2xl md:text-3xl font-bold text-white mb-6 text-center heading-underline">Section 2: The Support Fleet</h2>
            <div class="card p-6">
                <p class="text-sky-200 mb-6">The engine relies on the WATER Fish "Shark" engine to consistently summon Level 4 monsters. For a full roster, you can explore the <a href="https://www.db.yugioh-card.com/yugiohdb/card_search.action?ope=1&sess=1&keyword=stealth%20kragen&stype=1" target="_blank" class="lore-link">official database for Stealth Kragen cards</a>.</p>
                <div class="overflow-x-auto rounded-lg">
                    <table>
                        <thead><tr><th>Card Name</th><th>Role</th><th>Key Interaction/Synergy</th></tr></thead>
                        <tbody>
                            <tr><td class="font-bold text-accent-blue">Buzzsaw Shark</td><td>Starter</td><td>One-card Rank 4; summons Right-Hand Shark for protection.</td></tr>
                            <tr><td class="font-bold text-accent-blue">Beautunaful Princess</td><td>Starter</td><td>Acts as extra copies of Buzzsaw Shark by summoning it from Deck.</td></tr>
                            <tr><td class="font-bold text-accent-blue">Abyss Shark</td><td>Starter/Extender</td><td>Special Summons itself and searches any key Fish monster.</td></tr>
                            <tr><td class="font-bold text-accent-blue">Silent Angler</td><td>Extender</td><td>Free Special Summon from hand to enable multi-Xyz plays.</td></tr>
                            <tr><td class="font-bold text-accent-blue">Xyz Remora</td><td>Extender</td><td>Converts Xyz materials into more monsters for explosive turns.</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- SECTION 3: COMBO LINES -->
        <section class="mb-12 animate-fadeIn" style="animation-delay: 0.4s;">
            <h2 class="text-2xl md:text-3xl font-bold text-white mb-8 text-center heading-underline">Section 3: Foundational Combo Lines</h2>
            <div class="space-y-6">
                <div class="combo-card">
                    <h3 class="text-xl font-bold font-mono text-blue-300 mb-2">3.1: One-Card Kragen</h3>
                    <p class="text-sky-200"><strong>Start:</strong> <strong class="text-cyan-300">Buzzsaw Shark</strong>. <strong>Line:</strong> NS Buzzsaw -> Eff SS Right-Hand Shark -> Xyz Summon <strong class="text-cyan-300">Number 4: Stealth Kragen</strong>. <strong>End:</strong> Kragen with one-time destruction protection.</p>
                </div>
                <div class="combo-card">
                    <h3 class="text-xl font-bold font-mono text-blue-300 mb-2">3.2: Kragen + Toad</h3>
                    <p class="text-sky-200"><strong>Start:</strong> <strong class="text-cyan-300">Buzzsaw Shark</strong> + WATER Extender. <strong>Line:</strong> NS Buzzsaw -> SS Fish -> Xyz <strong class="text-cyan-300">Bahamut Shark</strong> -> SS Extender -> Bahamut eff SS <strong class="text-cyan-300">Toadally Awesome</strong> -> Use remaining monsters for Kragen. <strong>End:</strong> Omni-negate + Monster destruction.</p>
                </div>
                <div class="combo-card">
                    <h3 class="text-xl font-bold font-mono text-blue-300 mb-2">3.3: The Apex Predator Pivot</h3>
                    <p class="text-sky-200"><strong>Start:</strong> 2 <strong class="text-cyan-300">Stealth Kragen Spawn</strong>. <strong>Line:</strong> Overlay both Spawns -> Xyz Summon <strong class="text-cyan-300">Number F0: Utopic Future</strong> -> Utopic Future eff summon <strong class="text-cyan-300">Number F0: Utopic Draco Future</strong>. <strong>End:</strong> An indestructible boss monster with monster negation and theft.</p>
                </div>
            </div>
        </section>
        
        <!-- SECTION 4 & 5 -->
        <section class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12">
            <!-- ENDBOARD -->
            <div class="animate-fadeIn" style="animation-delay: 0.6s;">
                <h2 class="text-2xl md:text-3xl font-bold text-white mb-6 text-center heading-underline">Section 4: Fortress Endboard</h2>
                <div class="card p-6 space-y-4">
                    <div>
                        <h3 class="text-xl font-bold text-accent-blue mb-2">The Kragen + Gozen Lock</h3>
                        <p class="text-sky-200 text-sm">The deck's signature play. <strong class="text-cyan-300">Gozen Match</strong> + Kragen's continuous effect creates a lock where your opponent can only control one WATER monster, which you can then destroy each turn.</p>
                    </div>
                     <div>
                        <h3 class="text-xl font-bold text-accent-blue mb-2">Layered Disruption</h3>
                        <p class="text-sky-200 text-sm"><strong class="text-cyan-300">Toadally Awesome</strong> protects the lock, while <strong class="text-cyan-300">Torrential Tribute</strong> becomes a one-sided field wipe due to Kragen's floating effect.</p>
                    </div>
                </div>
            </div>
            <!-- ARSENAL -->
            <div class="animate-fadeIn" style="animation-delay: 0.7s;">
                <h2 class="text-2xl md:text-3xl font-bold text-white mb-6 text-center heading-underline">Section 5: Expanding the Arsenal</h2>
                <div class="card p-6 space-y-4">
                     <div>
                        <h3 class="text-xl font-bold text-accent-blue mb-2">External Pairings</h3>
                        <p class="text-sky-200 text-sm">The engine synergizes well with other WATER decks like <strong class="text-cyan-300">Marincess</strong> (enabling a Zealantis board wipe) and <strong class="text-cyan-300">Ghoti</strong> (providing on-field disruption).</p>
                    </div>
                     <div>
                        <h3 class="text-xl font-bold text-accent-blue mb-2">Core Tech Choices</h3>
                        <p class="text-sky-200 text-sm">Key non-engine cards include <strong class="text-cyan-300">Gozen Match</strong>, the <strong class="text-cyan-300">Torrential Tribute</strong> package, and <strong class="text-cyan-300">Gameciel, the Sea Turtle Kaiju</strong> for easy removal.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 6 & BANLIST -->
        <section class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12">
            <!-- STRENGTHS/WEAKNESSES -->
            <div class="animate-fadeIn" style="animation-delay: 0.8s;">
                <h2 class="text-2xl md:text-3xl font-bold text-white mb-6 text-center heading-underline">Section 6: Positioning</h2>
                <div class="grid grid-cols-2 gap-4">
                    <div class="card p-4">
                        <h3 class="text-lg font-bold text-green-400 mb-2">Strengths</h3>
                        <ul class="text-sm space-y-1 text-sky-100"><li><i class="fas fa-check-circle text-green-400 mr-2"></i>Resilient</li><li><i class="fas fa-check-circle text-green-400 mr-2"></i>Powerful Lock</li><li><i class="fas fa-check-circle text-green-400 mr-2"></i>Consistent</li><li><i class="fas fa-check-circle text-green-400 mr-2"></i>Flexible</li></ul>
                    </div>
                     <div class="card p-4">
                        <h3 class="text-lg font-bold text-red-400 mb-2">Weaknesses</h3>
                        <ul class="text-sm space-y-1 text-sky-100"><li><i class="fas fa-times-circle text-red-400 mr-2"></i>Non-destruction</li><li><i class="fas fa-times-circle text-red-400 mr-2"></i>Low ATK</li><li><i class="fas fa-times-circle text-red-400 mr-2"></i>ED Reliant</li><li><i class="fas fa-times-circle text-red-400 mr-2"></i>Meta Dependent</li></ul>
                    </div>
                </div>
            </div>
            <!-- BANLIST -->
            <div class="animate-fadeIn" style="animation-delay: 0.9s;">
                <h2 class="text-2xl md:text-3xl font-bold text-white mb-6 text-center heading-underline">TCG Banlist Status</h2>
                <div class="card p-6">
                    <p id="banlist-status-text" class="text-gray-300 mb-4 text-center text-sm">Loading status...</p>
                    <div id="banlist-cards-container" class="grid grid-cols-2 gap-2"></div>
                </div>
            </div>
        </section>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const canvas = document.getElementById('sonar-canvas');
            if (canvas) {
                const ctx = canvas.getContext('2d');
                let angle = 0;
                const setCanvasSize = () => {
                    canvas.width = canvas.offsetWidth;
                    canvas.height = canvas.offsetHeight;
                };

                function drawSonar() {
                    const centerX = canvas.width / 2;
                    const centerY = canvas.height / 2;
                    const radius = Math.min(centerX, centerY) * 0.8;
                    
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                    
                    // Sonar sweep line
                    ctx.beginPath();
                    ctx.moveTo(centerX, centerY);
                    ctx.arc(centerX, centerY, radius, angle, angle + Math.PI / 180);
                    ctx.lineTo(centerX, centerY);
                    ctx.fillStyle = 'rgba(34, 211, 238, 0.2)';
                    ctx.fill();

                    // Concentric circles
                    for(let i = 1; i <= 3; i++) {
                        ctx.beginPath();
                        ctx.arc(centerX, centerY, radius * (i / 3), 0, 2 * Math.PI);
                        ctx.strokeStyle = 'rgba(56, 189, 248, 0.15)';
                        ctx.lineWidth = 1;
                        ctx.stroke();
                    }
                    
                    angle += 0.01;
                    requestAnimationFrame(drawSonar);
                }

                setCanvasSize();
                drawSonar();
                window.addEventListener('resize', setCanvasSize);
            }

            
                const container = document.getElementById(containerId);
                if (!container) return;
                container.innerHTML = `<div class="card-placeholder flex items-center justify-center">${cardName}</div>`;
                const apiUrl = `https://db.ygoprodeck.com/api/v7/cardinfo.php?name=${encodeURIComponent(cardName)}`;
                try {
                    const response = await fetch(apiUrl);
                    if (!response.ok) throw new Error(`API error`);
                    const data = await response.json();
                    const imageUrl = data?.data?.[0]?.card_images?.[0]?.image_url;
                    if (imageUrl) {
                        const img = document.createElement('img');
                        img.src = imageUrl;
                        img.alt = cardName;
                        img.className = 'w-full h-auto rounded-lg shadow-lg';
                        container.innerHTML = '';
                        container.appendChild(img);
                    } else { throw new Error("Image not found."); }
                } catch (error) {
                    console.error(`Fetch error for "${cardName}":`, error);
                }
            }

            async function checkBanlist() {
                const cardNames = ["Toadally Awesome", "Bahamut Shark", "Gozen Match"];
                const banlistContainer = document.getElementById('banlist-cards-container');
                const statusText = document.getElementById('banlist-status-text');
                
                try {
                    const response = await fetch('https://db.ygoprodeck.com/api/v7/cardinfo.php?banlist=tcg');
                    if (!response.ok) throw new Error(`API error`);
                    const banlistData = await response.json();
                    const banlistMap = new Map(banlistData.data.map(card => [card.name, card.banlist_info.ban_tcg]));
                    
                    let hasRestrictions = false;
                    banlistContainer.innerHTML = '';

                    cardNames.forEach(name => {
                        const status = banlistMap.get(name) || "Unlimited";
                        let statusColor = 'text-green-400';
                        if (status !== 'Unlimited') {
                            statusColor = status === 'Forbidden' ? 'text-red-400' : 'text-yellow-400';
                            hasRestrictions = true;
                        }
                        const cardDiv = document.createElement('div');
                        cardDiv.className = `banlist-card p-2 text-center`;
                        cardDiv.innerHTML = `<h4 class="font-bold text-white truncate text-xs">${name}</h4><p class="text-xs font-mono ${statusColor}">${status}</p>`;
                        banlistContainer.appendChild(cardDiv);
                    });

                    statusText.textContent = hasRestrictions 
                        ? 'Key support cards are on the TCG F&L list.'
                        : 'Core archetype and support are largely unrestricted.';

                } catch (error) {
                    console.error("Failed to fetch banlist:", error);
                    statusText.textContent = 'Could not load banlist status.';
                }
            }
            
            CardLoader.loadCards({
                'kragen-img-container': 'Number 4: Stealth Kragen',
                'spawn-img-container': 'Stealth Kragen Spawn',
            });


            
            checkBanlist();
        });
    </script>
</body>
</html>



