<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coach Archetype Deep Dive</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="assets/js/card-loader.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@700&family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a0f0a; /* Dark, warm brown */
            color: #f3eade; /* Creamy off-white */
        }
        .container {
            max-width: 1024px;
        }
        .card {
            background-color: #3d2c22; /* Richer, leathery brown */
            border-radius: 1rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
            border: 1px solid #7a5845; /* Lighter tan border */
        }
        .combo-step-card, .pro-con-card {
            background-color: rgba(45, 30, 22, 0.8);
            border: 1px solid #a87e67;
        }
        .card-image-container {
            width: 100%;
            max-width: 180px;
            flex-shrink: 0;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeIn {
            animation: fadeIn 0.5s ease-in-out forwards;
        }
        .card-placeholder {
            background-color: #523a2e;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            font-size: 0.75rem;
            line-height: 1rem;
            font-weight: bold;
            height: 100%;
            min-height: 250px;
            border-radius: 0.5rem;
            padding: 0.5rem;
            box-shadow: 0 0 10px #523a2e;
            border: 1px dashed #a87e67;
        }
        .pro-icon { color: #34d399; }
        .con-icon { color: #ef4444; }
        .neutral-icon { color: #60a5fa; }
        .text-accent { color: #ff6600; } /* Fiery Orange for accents */
        .arrow-color { color: #ff6600; }
        .heading-underline {
            border-bottom: 2px solid #ff6600;
            display: inline-block;
            padding-bottom: 0.25rem;
        }
        .lore-link {
            color: #ff6600;
            font-weight: bold;
            text-decoration: none;
            border-bottom: 1px dotted #ff6600;
            transition: color 0.3s, text-shadow 0.3s;
        }
        .lore-link:hover {
            color: #fff;
            text-shadow: 0 0 5px #ff6600;
        }

        /* --- NEW COACH ANIMATED BANNER --- */
        .banner-header {
            position: relative;
            min-height: 160px;
            background-color: #1a0f0a;
            border-radius: 1rem;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 2rem;
            margin-bottom: 2.5rem;
            border: 1px solid #7a5845;
        }

        #playbook-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        .banner-header::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: radial-gradient(ellipse at center, rgba(26, 15, 10, 0.4) 0%, rgba(26, 15, 10, 0.9) 100%);
            z-index: 2;
        }

        .banner-header h1, .banner-header p {
            position: relative;
            z-index: 3;
            text-shadow: 0 0 15px rgba(255, 102, 0, 0.7);
        }
        
        .banner-header h1 {
             font-family: 'Roboto Slab', serif;
        }
        .ygo-home-button {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
            background: linear-gradient(135deg, #1e1b4b 0%, #312e81 50%, #1e1b4b 100%);
            color: white;
            border: 2px solid #6366f1;
            border-radius: 12px;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(99, 102, 241, 0.4), 0 0 20px rgba(99, 102, 241, 0.2);
            transition: all 0.3s ease;
            cursor: pointer;
            text-decoration: none;
            overflow: hidden;
        }
        .ygo-home-button:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 25px rgba(99, 102, 241, 0.6), 0 0 30px rgba(99, 102, 241, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2);
            border-color: #8b5cf6;
        }
    </style>
</head>
<body class="p-4 md:p-8">
    <a href="index-refactored.html" class="ygo-home-button" title="Return to Archetype Nexus">
        <i class="fas fa-home"></i>
    </a>
    <div class="container mx-auto">
        <!-- Title Section -->
        <header class="banner-header text-center">
            <canvas id="playbook-canvas"></canvas>
            <h1 class="text-3xl md:text-5xl font-extrabold text-white mb-2">COACH</h1>
            <p class="text-lg md:text-xl text-orange-200">A Playbook for the High-Potential Engine</p>
        </header>

        <!-- Executive Summary Section -->
        <section class="mb-10 md:mb-16 animate-fadeIn">
            <div class="card p-6">
                <h2 class="text-xl md:text-2xl font-bold text-white mb-4">Executive Summary</h2>
                <p class="text-amber-100">
                    The <strong class="text-accent font-bold">"Coach"</strong> archetype is not a self-contained deck but a compact, high-potential engine designed to execute a singular, powerful play. Revolving around a core of FIRE Beast-Warrior and Warrior monsters, the strategy's entire focus is to summon <strong class="text-accent font-bold">Coach King Giantrainer</strong> for a massive surge in card advantage. This engine is a classic example of a high-risk, high-reward "glass cannon" strategy that trades tempo for an overwhelming resource advantage.
                </p>
            </div>
        </section>

        <!-- The Core Roster Section -->
        <section class="mb-10 md:mb-16 animate-fadeIn" style="animation-delay: 0.2s;">
            <h2 class="text-xl md:text-3xl font-bold text-white mb-8 text-center heading-underline">The Core Roster: Players on the Field</h2>
            
            <!-- Main Engine: Bearman -> Giantrainer -->
            <div class="mb-12">
                <h3 class="text-2xl font-bold text-amber-100 text-center mb-6">The Primary Play</h3>
                <div class="flex flex-col md:flex-row items-center justify-center gap-4 md:gap-8">
                    
                    <!-- Card 1: Bearman (Enabler) -->
                    <div class="card p-6 w-full max-w-sm text-center">
                        <h4 class="text-lg font-bold text-accent mb-2 flex items-center justify-center gap-2"><i class="fas fa-key"></i> The Enabler</h4>
                        <div id="bearman-img-container" class="card-image-container mx-auto mb-4 card-placeholder"></div>
                        <h5 class="text-xl font-bold mb-2">Coach Captain Bearman</h5>
                        <p class="text-sm text-amber-100">Modulates Levels of two Beast-Warriors from 4 to 8, setting up the main combo.</p>
                    </div>
        
                    <!-- Connector Arrow -->
                    <div class="flex items-center justify-center text-5xl arrow-color transform md:-rotate-0 rotate-90">
                        <i class="fas fa-long-arrow-alt-right"></i>
                    </div>
        
                    <!-- Card 2: Giantrainer (Payoff) -->
                    <div class="card p-6 w-full max-w-sm text-center">
                         <h4 class="text-lg font-bold text-accent mb-2 flex items-center justify-center gap-2"><i class="fas fa-trophy"></i> The Payoff</h4>
                        <div id="giantrainer-img-container" class="card-image-container mx-auto mb-4 card-placeholder"></div>
                         <h5 class="text-xl font-bold mb-2">Coach King Giantrainer</h5>
                        <p class="text-sm text-amber-100">Draws up to 3 cards and inflicts burn damage at the cost of your Battle Phase.</p>
                    </div>
                </div>
            </div>
        
            <!-- Secondary Roster: Upgrade & Outlier -->
            <h3 class="text-2xl font-bold text-amber-100 text-center mb-6 mt-12">The Bench</h3>

            <!-- Upgrade Path -->
            <div class="flex justify-center mb-8">
                <div class="card p-6 w-full max-w-lg text-center">
                    <h4 class="text-lg font-bold text-accent mb-2 flex items-center justify-center gap-2"><i class="fas fa-arrow-up"></i> The Upgrade Path</h4>
                    <div class="flex flex-col md:flex-row items-center gap-6 mt-4">
                        <div id="ultimatrainer-img-container" class="card-image-container mx-auto mb-4 md:mb-0 card-placeholder"></div>
                        <div class="text-left">
                            <h5 class="text-2xl font-bold mb-2">CXyz Coach Lord Ultimatrainer</h5>
                            <p class="text-amber-100">A powerful Rank 9 monster accessed via "Rank-Up-Magic" spells. It acts as a game-ending boss with a massive 3800 ATK, targeting protection, and a draw-and-burn effect to close out the duel.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Thematic Outlier -->
            <div class="card p-6 mt-4 bg-gray-800/30 border-gray-600 border-dashed">
                <div class="flex flex-col md:flex-row items-center gap-6">
                    <div id="goblin-img-container" class="card-image-container card-placeholder"></div>
                    <div class="flex-1">
                        <h4 class="text-lg font-bold text-gray-400 mb-2 flex items-center gap-2"><i class="fas fa-question-circle"></i> The Thematic Outlier</h4>
                        <h5 class="text-xl font-bold mb-2">Coach Goblin</h5>
                        <p class="text-amber-100">A "Coach" in name only. This EARTH Fiend shares no Type, Attribute, or mechanical synergy with the core FIRE Beast-Warrior engine and supports a completely different strategy centered around Normal Monsters. It should not be included in the main deck.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- The Game Plan Section -->
        <section class="mb-10 md:mb-16 animate-fadeIn" style="animation-delay: 0.4s;">
            <h2 class="text-xl md:text-3xl font-bold text-white mb-6 text-center heading-underline">The Game Plan: Assembling the Team</h2>
             <p class="text-amber-100 mb-8 text-center max-w-2xl mx-auto">
                The entire strategy is built to summon <strong class="text-accent font-bold">Coach King Giantrainer</strong>. This requires a specific set of non-archetypal cards working in perfect sync. Get familiar with all the <a href="https://www.db.yugioh-card.com/yugiohdb/card_search.action?ope=1&cl_keyword=Coach" target="_blank" class="lore-link">Coach cards</a> to master the playbook.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                 <div class="card p-6 pro-con-card">
                    <h3 class="text-lg font-bold text-white mb-2">The Searcher: <br><span class="text-accent">Fire Formation - Tenki</span></h3>
                    <p class="text-sm text-amber-100">This Continuous Spell is the deck's lifeline, searching for the key Level 4 Beast-Warrior starters needed for the combo.</p>
                </div>
                <div class="card p-6 pro-con-card">
                    <h3 class="text-lg font-bold text-white mb-2">The Extender: <br><span class="text-accent">Coach Soldier Wolfbark</span></h3>
                    <p class="text-sm text-amber-100">Mechanically essential, Wolfbark revives another Level 4 FIRE Beast-Warrior from the Graveyard, efficiently putting two bodies on the field.</p>
                </div>
                 <div class="card p-6 pro-con-card">
                    <h3 class="text-lg font-bold text-white mb-2">The Enabler: <br><span class="text-accent">Fire Formation - Tensu</span></h3>
                    <p class="text-sm text-amber-100">Provides a crucial additional Normal Summon, allowing you to summon both Wolfbark and Bearman in the same turn to complete the combo.</p>
                </div>
            </div>
        </section>
        
        <!-- The Final Endboard Section -->
        <section class="mb-10 md:mb-16 animate-fadeIn" style="animation-delay: 0.6s;">
            <h2 class="text-xl md:text-3xl font-bold text-white mb-6 text-center heading-underline">The Final Endboard</h2>
            <div class="card p-8 flex flex-col md:flex-row items-center gap-6">
                <div id="endboard-giantrainer-img-container" class="card-image-container card-placeholder"></div>
                <div>
                    <h3 class="text-2xl font-bold text-accent mb-2">A Mountain of Resources</h3>
                    <p class="text-amber-100">The typical endboard is simple but powerful: a single <strong class="text-accent">Coach King Giantrainer</strong> on the field and three new cards in hand. While you sacrifice your Battle Phase, the goal is to leverage this massive card advantage to survive the opponent's turn with hand traps and board-breaking cards, then secure victory on your next turn with an overwhelming counter-attack.</p>
                </div>
            </div>
        </section>


        <!-- Competitive Analysis Section -->
        <section class="mb-10 md:mb-16 animate-fadeIn" style="animation-delay: 0.8s;">
            <h2 class="text-xl md:text-3xl font-bold text-white mb-6 text-center heading-underline">Competitive Analysis</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Strengths -->
                <div class="card p-6 pro-con-card">
                    <h3 class="text-xl font-bold text-green-400 mb-4">Strengths</h3>
                    <ul class="list-disc list-inside space-y-2 text-amber-100">
                        <li><span class="pro-icon"><i class="fas fa-chart-line"></i></span> <strong class="text-green-300">Unparalleled Card Draw:</strong> A resolved Giantrainer provides a resource advantage few engines can match.</li>
                        <li><span class="pro-icon"><i class="fas fa-bolt"></i></span> <strong class="text-green-300">Explosive Potential:</strong> Can instantly refill a depleted hand, giving you the tools to dismantle an opponent's board.</li>
                        <li><span class="pro-icon"><i class="fas fa-cogs"></i></span> <strong class="text-green-300">Strong Synergy:</strong> Fits naturally into FIRE Beast-Warrior strategies like "Fire Fist", leveraging their support cards.</li>
                    </ul>
                </div>
                <!-- Weaknesses -->
                <div class="card p-6 pro-con-card">
                    <h3 class="text-xl font-bold text-red-400 mb-4">Weaknesses</h3>
                    <ul class="list-disc list-inside space-y-2 text-amber-100">
                        <li><span class="con-icon"><i class="fas fa-exclamation-triangle"></i></span> <strong class="text-red-300">Extreme Fragility:</strong> The linear combo is highly vulnerable to a single disruption like a hand trap.</li>
                        <li><span class="con-icon"><i class="fas fa-hourglass-half"></i></span> <strong class="text-red-300">Passive Tempo:</strong> Skipping the Battle Phase is a massive tempo loss in the modern game, ceding initiative to the opponent.</li>
                        <li><span class="con-icon"><i class="fas fa-shield-alt"></i></span> <strong class="text-red-300">Lack of In-Engine Interaction:</strong> The engine itself provides no negations or protection.</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- TCG Banlist Status Section -->
        <section class="mb-10 md:mb-16">
            <h2 class="text-xl md:text-3xl font-bold text-white mb-6 text-center">Current TCG Banlist Status</h2>
            <div class="card p-6">
                <p class="text-gray-300 mb-4 text-center">
                    The "Coach" engine and its primary support cards are largely untouched by the current TCG banlist, though some generic support has been hit.
                </p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="card combo-step-card p-4">
                        <h4 class="text-lg font-bold text-green-400 mb-2">Unrestricted Cards</h4>
                        <ul id="unrestricted-list" class="list-disc list-inside space-y-1 text-sm text-gray-300">
                            <!-- JS will populate this -->
                        </ul>
                    </div>
                    <div class="card combo-step-card p-4">
                        <h4 class="text-lg font-bold text-yellow-500 mb-2">Limited & Semi-Limited</h4>
                        <ul id="limited-list" class="list-disc list-inside space-y-1 text-sm text-gray-300">
                           <!-- JS will populate this -->
                        </ul>
                    </div>
                </div>
                <div class="mt-4 p-3 bg-green-900 bg-opacity-30 rounded border-l-4 border-green-500">
                    <p id="banlist-implications" class="text-sm text-gray-300"></p>
                </div>
            </div>
        </section>

    </div>
    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            // --- COACH PLAYBOOK ANIMATION ---
            const canvas = document.getElementById('playbook-canvas');
            if (canvas) {
                const ctx = canvas.getContext('2d');
                let plays = [];
                const numPlays = 20;

                const setCanvasSize = () => {
                    canvas.width = canvas.offsetWidth;
                    canvas.height = canvas.offsetHeight;
                };

                class Play {
                    constructor() {
                        this.reset();
                        this.y = Math.random() * canvas.height;
                    }
                    reset() {
                        this.x = Math.random() * canvas.width;
                        this.y = -20;
                        this.speed = Math.random() * 1 + 0.5;
                        this.opacity = Math.random() * 0.5 + 0.2;
                        this.angle = (Math.random() * 90 - 45) * Math.PI / 180; // Angle between -45 and 45 degrees
                        this.length = Math.random() * 40 + 20;
                    }
                    update() {
                        this.y += this.speed;
                        if (this.y > canvas.height + 20) {
                            this.reset();
                        }
                    }
                    draw() {
                        ctx.beginPath();
                        ctx.moveTo(this.x, this.y);
                        const endX = this.x + Math.sin(this.angle) * this.length;
                        const endY = this.y + Math.cos(this.angle) * this.length;
                        ctx.lineTo(endX, endY);
                        ctx.strokeStyle = `rgba(255, 102, 0, ${this.opacity})`;
                        ctx.lineWidth = 1.5;
                        ctx.stroke();
                        
                        // Draw arrowhead
                        const arrowSize = 5;
                        ctx.beginPath();
                        ctx.moveTo(endX, endY);
                        ctx.lineTo(endX - arrowSize * Math.sin(this.angle - Math.PI / 6), endY - arrowSize * Math.cos(this.angle - Math.PI / 6));
                        ctx.moveTo(endX, endY);
                        ctx.lineTo(endX - arrowSize * Math.sin(this.angle + Math.PI / 6), endY - arrowSize * Math.cos(this.angle + Math.PI / 6));
                        ctx.stroke();
                    }
                }

                function initPlays() {
                    plays = [];
                    for (let i = 0; i < numPlays; i++) {
                        plays.push(new Play());
                    }
                }

                function animate() {
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                    plays.forEach(p => {
                        p.update();
                        p.draw();
                    });
                    requestAnimationFrame(animate);
                }

                setCanvasSize();
                initPlays();
                animate();

                window.addEventListener('resize', () => {
                    setCanvasSize();
                    initPlays();
                });
            }

            // --- CARD IMAGE FETCHER SCRIPT ---
            async function fetchAndDisplayCardImage(cardName, containerId) {
                const container = document.getElementById(containerId);
                if (!container) return;

                const apiUrl = `https://db.ygoprodeck.com/api/v7/cardinfo.php?name=${encodeURIComponent(cardName)}`;

                try {
                    const response = await fetch(apiUrl);
                    if (!response.ok) throw new Error(`API error: ${response.status}`);
                    const data = await response.json();
                    const imageUrl = data?.data?.[0]?.card_images?.[0]?.image_url;

                    if (imageUrl) {
                        const img = document.createElement('img');
                        img.src = imageUrl;
                        img.alt = cardName;
                        img.className = 'w-full h-auto rounded-lg shadow-md animate-fadeIn';
                        container.innerHTML = '';
                        container.appendChild(img);
                    } else {
                        throw new Error("Image URL not found.");
                    }
                } catch (error) {
                    console.error(`Failed to fetch image for "${cardName}":`, error);
                    container.innerHTML = `<div class="card-placeholder animate-fadeIn">${cardName}</div>`;
                }
            }
            
            async function checkBanlistStatus() {
                const unrestrictedList = document.getElementById('unrestricted-list');
                const limitedList = document.getElementById('limited-list');
                const implications = document.getElementById('banlist-implications');

                const coreCards = [
                    "Coach Captain Bearman",
                    "Coach King Giantrainer",
                    "Coach Soldier Wolfbark",
                    "Fire Formation - Tensu",
                    "Reinforcement of the Army",
                    "Pot of Prosperity",
                    "Fire Formation - Tenki", // Now Limited
                ];

                let limitedCount = 0;
                
                try {
                    const response = await fetch('https://db.ygoprodeck.com/api/v7/cardinfo.php?banlist=tcg');
                    if (!response.ok) throw new Error('Failed to fetch banlist');
                    const banlistData = await response.json();
                    
                    const banlistMap = new Map();
                    banlistData.data.forEach(card => {
                        if (card.banlist_info && card.banlist_info.ban_tcg) {
                           banlistMap.set(card.name, card.banlist_info.ban_tcg);
                        }
                    });

                    coreCards.forEach(cardName => {
                        const status = banlistMap.get(cardName);
                        const li = document.createElement('li');
                        li.textContent = cardName;

                        if (status === 'Limited' || status === 'Semi-Limited') {
                             li.innerHTML += ` <strong class="text-yellow-400">(${status})</strong>`;
                             limitedList.appendChild(li);
                             limitedCount++;
                        } else if (status === 'Forbidden') {
                             li.innerHTML += ` <strong class="text-red-400">(Forbidden)</strong>`;
                             limitedList.appendChild(li);
                        } else {
                            unrestrictedList.appendChild(li);
                        }
                    });

                    if (limitedCount > 0) {
                        implications.textContent = 'With key searchers like "Fire Formation - Tenki" Limited, the engine\'s consistency is slightly reduced, requiring more careful deck construction to ensure access to combo pieces.';
                    } else {
                        implications.textContent = 'With all core components at full power, the Coach engine can operate with maximum consistency. The primary limitations come from generic staples rather than archetype-specific hits.';
                    }


                } catch(error) {
                    console.error("Error fetching banlist:", error);
                    unrestrictedList.innerHTML = '<li>Error loading banlist status.</li>';
                    limitedList.innerHTML = '<li>Error loading banlist status.</li>';
                }
            }


            const cardsToLoad = {
                'bearman-img-container': 'Coach Captain Bearman',
                'giantrainer-img-container': 'Coach King Giantrainer',
                'ultimatrainer-img-container': 'CXyz Coach Lord Ultimatrainer',
                'endboard-giantrainer-img-container': 'Coach King Giantrainer',
                'goblin-img-container': 'Coach Goblin'
            };

            for (const [containerId, cardName] of Object.entries(cardsToLoad)) {
                fetchAndDisplayCardImage(cardName, containerId);
            }
            
            checkBanlistStatus();
        });
    </script>
</body>
</html>


