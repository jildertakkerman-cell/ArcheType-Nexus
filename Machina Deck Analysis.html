<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Machina Archetype Analysis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="assets/js/card-loader.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Roboto Mono', monospace;
            background-color: #1a1a1a;
            color: #e0e0e0;
            background-image:
                linear-gradient(rgba(26, 26, 26, 0.95), rgba(26, 26, 26, 0.95)),
                url('https://www.transparenttextures.com/patterns/metal-grid.png');
        }
        .container {
            max-width: 1024px;
        }
        .card {
            background-color: #2c2c2c;
            border-radius: 0.5rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5), inset 0 0 5px rgba(255, 87, 34, 0.1);
            border: 1px solid #444;
            transition: all 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(255, 87, 34, 0.3), inset 0 0 10px rgba(255, 87, 34, 0.2);
            border-color: #ff5722;
        }
        .combo-step-card {
            background-color: #333;
            border: 1px solid #555;
        }
        .pro-con-card {
            background-color: #333;
            border: 1px solid #555;
        }
        .card-image-container {
            width: 100%;
            max-width: 180px;
            flex-shrink: 0;
            border: 2px solid #555;
            border-radius: 0.5rem;
            overflow: hidden;
            background-color: #222;
        }
        .card-image {
            width: 100%;
            border-radius: 0.25rem;
        }
        .card-placeholder {
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            font-size: 0.875rem;
            font-weight: bold;
            height: 260px;
            border-radius: 0.25rem;
            color: #888;
            cursor: pointer;
        }
        .pro-icon { color: #4caf50; }
        .con-icon { color: #f44336; }
        .neutral-icon { color: #2196f3; }
        .text-accent { color: #ff5722; }
        .arrow-color { color: #ff5722; }
        .heading-underline {
            border-bottom: 3px solid #ff5722;
            display: inline-block;
            padding-bottom: 0.25rem;
            font-family: 'Orbitron', sans-serif;
            text-transform: uppercase;
        }
        .lore-link {
            color: #ff5722;
            font-weight: bold;
            text-decoration: none;
            border-bottom: 1px dotted #ff5722;
            transition: color 0.3s, text-shadow 0.3s;
        }
        .lore-link:hover {
            color: #ff8a65;
            text-shadow: 0 0 5px #ff5722;
        }
        .banner {
            position: relative;
            background: linear-gradient(45deg, #222, #444);
            border-radius: 0.5rem;
            border: 2px solid #555;
            padding: 2rem;
            text-align: center;
            overflow: hidden;
        }
        .banner-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.5rem;
            color: #fff;
            text-shadow: 0 0 10px #ff5722, 0 0 20px #ff5722;
        }
        .banner-subtitle {
            font-size: 1.1rem;
            color: #ccc;
        }
        .gear-bg {
            position: absolute;
            font-size: 20rem;
            color: rgba(255, 255, 255, 0.03);
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(0deg);
            animation: rotate-gear 60s linear infinite;
            z-index: 0;
        }
        @keyframes rotate-gear {
            from { transform: translate(-50%, -50%) rotate(0deg); }
            to { transform: translate(-50%, -50%) rotate(360deg); }
        }

        /* Card Popup Styles */
        #card-popup {
            position: fixed;
            display: none;
            opacity: 0;
            padding: 1rem;
            background-color: rgba(26, 26, 26, 0.95);
            border: 1px solid #ff5722;
            border-radius: 0.75rem;
            color: #e0e0e0;
            max-width: 300px;
            z-index: 1000;
            pointer-events: none;
            transition: opacity 0.2s ease-in-out;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            font-size: 0.875rem;
        }
        #card-popup h3 {
            font-family: 'Roboto Mono', monospace;
            color: #ff5722;
            font-weight: bold;
            font-size: 1.125rem;
        }
        #card-popup p {
            margin-top: 0.5rem;
        }
        #card-popup-stats {
            font-family: 'Roboto Mono', monospace;
            color: #ff5722;
        }
    </style>
</head>
<body class="p-4 md:p-8">
    <div class="container mx-auto">
        <header class="mb-10 md:mb-16">
            <div class="banner">
                <i class="fas fa-cogs gear-bg"></i>
                <div class="relative z-10">
                    <h1 class="banner-title">Machina Archetype</h1>
                    <p class="banner-subtitle">Mechanized Warfare: A Comprehensive Analysis</p>
                </div>
            </div>
        </header>

        <section class="mb-10 md:mb-16">
            <div class="card p-6">
                <h2 class="text-xl md:text-2xl font-bold text-white mb-4 heading-underline">Executive Summary</h2>
                <p class="text-gray-300 leading-relaxed">
                    The <strong class="text-accent font-bold">Machina</strong> archetype is an EARTH Machine strategy renowned for its paradoxical philosophy: using self-destruction as a resource. The core game plan involves strategically destroying its own monsters to trigger powerful effects, primarily to Special Summon its recurring boss monster, <a href="https://www.db.yugioh-card.com/yugiohdb/card_search.action?ope=2&cid=15092" target="_blank" class="lore-link">Machina Citadel</a>. This creates a resilient, control-oriented playstyle that can out-grind opponents through a relentless loop of destruction and revival. While formidable on its own, Machina truly shines when integrated into the broader "EARTH Machine" hybrid deck, combining its disruptive power with the consistency of Infinitracks and the OTK potential of Trains.
                </p>
            </div>
        </section>

        <section class="mb-10 md:mb-16">
            <h2 class="text-xl md:text-3xl font-bold text-white mb-6 text-center heading-underline">The Command Roster: Core Cards</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="card p-6 flex flex-col">
                    <h3 class="text-lg font-bold text-accent mb-2">Machina Citadel</h3>
                    <p class="text-sm text-gray-400 mb-2">Boss Monster / Disruption</p>
                    <p class="text-gray-300 flex-grow">The heart of the modern archetype. Summons itself from the GY when an EARTH Machine is destroyed. Its Quick Effect allows it to destroy one of your own Machines to wipe the opponent's board of monsters with ATK less than or equal to the destroyed machine's.</p>
                </div>
                <div class="card p-6 flex flex-col">
                    <h3 class="text-lg font-bold text-accent mb-2">Machina Redeployment</h3>
                    <p class="text-sm text-gray-400 mb-2">Starter / Consistency</p>
                    <p class="text-gray-300 flex-grow">The deck's premier Spell. By discarding one card, it searches any two "Machina" monsters or cards, single-handedly setting up your entire strategy by fetching key pieces and loading the GY.</p>
                </div>
                <div class="card p-6 flex flex-col">
                    <h3 class="text-lg font-bold text-accent mb-2">Machina Gearframe</h3>
                    <p class="text-sm text-gray-400 mb-2">Starter / Searcher</p>
                    <p class="text-gray-300 flex-grow">The primary Normal Summon. Upon summon, it adds any "Machina" monster from the Deck to your hand, making it a reliable one-card starter for your main combo lines.</p>
                </div>
                <div class="card p-6 flex flex-col">
                    <h3 class="text-lg font-bold text-accent mb-2">Machina Fortress</h3>
                    <p class="text-sm text-gray-400 mb-2">Extender / GY Setup</p>
                    <p class="text-gray-300 flex-grow">An easily summoned body from the hand or GY by discarding Machines. It helps set up the GY with cards like Citadel and provides disruption when destroyed or targeted.</p>
                </div>
                 <div class="card p-6 flex flex-col">
                    <h3 class="text-lg font-bold text-accent mb-2">Machina Air Raider</h3>
                    <p class="text-sm text-gray-400 mb-2">Extender / Combo Piece</p>
                    <p class="text-gray-300 flex-grow">Special Summons itself by discarding a Machina. Its Quick Effect lets you destroy a Machine you control to summon another from the Deck, enabling Citadel plays during the opponent's turn.</p>
                </div>
                 <div class="card p-6 flex flex-col">
                    <h3 class="text-lg font-bold text-accent mb-2">Machina Ruinforce</h3>
                    <p class="text-sm text-gray-400 mb-2">Boss Monster / Finisher</p>
                    <p class="text-gray-300 flex-grow">A colossal 4600 ATK boss monster summoned from the GY. It provides negation during the Battle Phase and recovers banished Machines when destroyed, offering a powerful late-game push.</p>
                </div>
            </div>
        </section>

        <section class="mb-10 md:mb-16">
            <h2 class="text-xl md:text-3xl font-bold text-white mb-6 text-center heading-underline">Foundational Combo: Gearframe Starter</h2>
            <p class="text-gray-300 mb-8 text-center max-w-2xl mx-auto">This one-card combo using Machina Gearframe establishes the core strategic loop: a body on field and Machina Citadel in the Graveyard, ready to disrupt the opponent.</p>
            <div class="flex flex-col items-center gap-6">
                <!-- Step 1 -->
                <div class="card p-6 combo-step-card w-full max-w-lg flex flex-col md:flex-row items-center gap-4">
                    <div id="gearframe-img" class="card-image-container"></div>
                    <div class="flex-1">
                        <div class="flex items-center mb-2">
                            <span class="bg-[#1a1a1a] text-white rounded-full h-8 w-8 flex items-center justify-center font-bold mr-3">1</span>
                            <h3 class="text-lg font-bold">Normal Summon & Search</h3>
                        </div>
                        <p class="text-gray-300">Normal Summon <strong class="text-accent">Machina Gearframe</strong>. Its effect activates, adding <strong class="text-accent">Machina Unclaspare</strong> from your Deck to your hand.</p>
                    </div>
                </div>
                <svg class="h-10 w-10 arrow-color animate-pulse" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" /></svg>
                <!-- Step 2 -->
                <div class="card p-6 combo-step-card w-full max-w-lg flex flex-col md:flex-row items-center gap-4">
                    <div id="unclaspare-img" class="card-image-container"></div>
                    <div class="flex-1">
                        <div class="flex items-center mb-2">
                            <span class="bg-[#1a1a1a] text-white rounded-full h-8 w-8 flex items-center justify-center font-bold mr-3">2</span>
                            <h3 class="text-lg font-bold">Special Summon & GY Setup</h3>
                        </div>
                        <p class="text-gray-300">Special Summon <strong class="text-accent">Machina Unclaspare</strong> from your hand. Its on-summon effect sends <strong class="text-accent">Machina Citadel</strong> from your Deck to the Graveyard.</p>
                    </div>
                </div>
                 <svg class="h-10 w-10 arrow-color animate-pulse" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" /></svg>
                <!-- Step 3 -->
                <div class="card p-6 combo-step-card w-full max-w-lg flex flex-col md:flex-row items-center gap-4">
                    <div id="genius-img" class="card-image-container"></div>
                    <div class="flex-1">
                        <div class="flex items-center mb-2">
                            <span class="bg-[#1a1a1a] text-white rounded-full h-8 w-8 flex items-center justify-center font-bold mr-3">3</span>
                            <h3 class="text-lg font-bold">Link Summon & Establish Threat</h3>
                        </div>
                        <p class="text-gray-300">Link Summon a Link-2 Machine like <strong class="text-accent">Qliphort Genius</strong> using Gearframe and Unclaspare. Your endboard is a monster on field with Citadel live in the GY, ready to be summoned when your monster is destroyed.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="mb-10 md:mb-16">
            <h2 class="text-xl md:text-3xl font-bold text-white mb-6 text-center heading-underline">Optimal Endboard (EARTH Machine Hybrid)</h2>
             <p class="text-gray-300 mb-8 text-center max-w-3xl mx-auto">When combined with Infinitrack and Railway engines, Machina can create a multi-layered board of interruptions far exceeding what the pure archetype can accomplish.</p>
            <div class="card p-8">
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 text-center">
                    <div class="flex flex-col items-center">
                        <div id="citadel-img-endboard" class="card-image-container mb-2"></div>
                        <h4 class="font-bold text-accent">Machina Citadel</h4>
                        <p class="text-sm text-gray-400">(In Graveyard) - Recurring board wipe</p>
                    </div>
                    <div class="flex flex-col items-center">
                        <div id="dora-img" class="card-image-container mb-2"></div>
                        <h4 class="font-bold text-accent">Number 81: Superdreadnought Rail Cannon Super Dora</h4>
                        <p class="text-sm text-gray-400">Targeted protection for any monster</p>
                    </div>
                    <div class="flex flex-col items-center">
                        <div id="knuckle-img" class="card-image-container mb-2"></div>
                        <h4 class="font-bold text-accent">Double Headed Anger Knuckle</h4>
                        <p class="text-sm text-gray-400">GY recursion on opponent's turn</p>
                    </div>
                    <div class="flex flex-col items-center">
                        <div id="regulus-img" class="card-image-container mb-2"></div>
                        <h4 class="font-bold text-accent">Therion "King" Regulus</h4>
                        <p class="text-sm text-gray-400">Omni-negate</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="mb-10 md:mb-16">
            <h2 class="text-xl md:text-3xl font-bold text-white mb-6 text-center heading-underline">Competitive Analysis</h2>
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <div class="card p-6 pro-con-card">
                    <h3 class="text-xl font-bold text-green-400 mb-4 flex items-center"><i class="fas fa-check-circle mr-2 pro-icon"></i>Strengths</h3>
                    <ul class="list-disc list-inside space-y-2 text-gray-300">
                        <li><strong class="text-green-300">Resilience:</strong> Excellent grind game due to constant GY recursion from Citadel, Fortress, and support cards.</li>
                        <li><strong class="text-green-300">Explosive OTKs:</strong> Integration with the Railway engine provides access to Superdreadnought Rail Cannon Juggernaut Liebe for game-ending pushes.</li>
                        <li><strong class="text-green-300">Layered Disruption:</strong> Combines on-field negates, protection, and recurring board wipes, making its endboard difficult to dismantle.</li>
                    </ul>
                </div>
                <div class="card p-6 pro-con-card">
                    <h3 class="text-xl font-bold text-red-400 mb-4 flex items-center"><i class="fas fa-times-circle mr-2 con-icon"></i>Weaknesses</h3>
                    <ul class="list-disc list-inside space-y-2 text-gray-300">
                        <li><strong class="text-red-300">Graveyard Hate:</strong> Highly vulnerable to cards that banish key combo pieces from the Graveyard, such as D.D. Crow or Bystial monsters.</li>
                        <li><strong class="text-red-300">Choke Points:</strong> Key Normal Summons like Gearframe or Scrap Recycler are susceptible to hand traps like Ash Blossom, which can stop the combo cold.</li>
                        <li><strong class="text-red-300">Floodgates:</strong> Struggles against continuous effects that lock down monster effects (Skill Drain) or restrict summons (Rivalry of Warlords).</li>
                    </ul>
                </div>
                <div class="card p-6 pro-con-card">
                    <h3 class="text-xl font-bold text-blue-400 mb-4 flex items-center"><i class="fas fa-cogs mr-2 neutral-icon"></i>Synergistic Engines</h3>
                    <ul class="list-disc list-inside space-y-2 text-gray-300">
                        <li><strong class="text-blue-300">Infinitrack:</strong> Provides consistency and swarming to build the Extra Deck board and search key Machina pieces.</li>
                        <li><strong class="text-blue-300">Railway (Trains):</strong> The primary OTK module, enabling massive damage output through Rank 10 Xyz monsters.</li>
                         <li><strong class="text-blue-300">Scrap:</strong> Offers an explosive one-card starter via Scrap Recycler, generating immense advantage and setting up the Graveyard.</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- TCG Banlist Status Section -->
        <section class="mb-10 md:mb-16">
            <h2 class="text-xl md:text-3xl font-bold text-white mb-6 text-center">Current TCG Banlist Status</h2>
            <div id="banlist-status" class="card p-6">
                <!-- Banlist content will be dynamically generated here -->
            </div>
        </section>
        <section class="mb-10 md:mb-16">
            <div id="deck-resources-container">
                <!-- Deck search section will be populated by CardLoader.renderDeckSearchSection -->
            </div>
        </section>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- CARD LOADING ---
            CardLoader.loadCards({
                'gearframe-img': 'Machina Gearframe',
                'unclaspare-img': 'Machina Unclaspare',
                'genius-img': 'Qliphort Genius',
                'citadel-img-endboard': 'Machina Citadel',
                'dora-img': 'Number 81: Superdreadnought Rail Cannon Super Dora',
                'knuckle-img': 'Double Headed Anger Knuckle',
                'regulus-img': 'Therion "King" Regulus',
            });

            // Render banlist section
            CardLoader.renderBanlistSectionByArchetype('banlist-status', 'Machina', {
                relatedCards: [
                    'Infinitrack',
                    'Therion "King" Regulus',
                    'Qliphort Genius',
                    'Number 81: Superdreadnought Rail Cannon Super Dora',
                    'Double Headed Anger Knuckle'
                ],
                archetypeTraits: {
                    coreMechanic: 'EARTH Machine beatdown with destruction-based resource engine',
                    supportReliance: 'Benefits from generic EARTH Machine and Rank 10 support',
                    adaptability: 'Can hybrid with Infinitrack or pure Machine strategies',
                    resilience: 'Strong graveyard recursion through Fortress and Citadel',
                    keyLoss: 'Fully unrestricted - no banlist impact on core strategy',
                    alternativeStrategy: 'Pure Machina or hybrid with Trains/Infinitrack for Rank 10 plays'
                }
            });
            
            // Render deck search section (moved outside the previous await block)
            CardLoader.renderDeckSearchSection('deck-resources-container', 'Machina', {});
        });
    </script>

    <!-- Card Popup -->
    <div id="card-popup"></div>
</body>
</html>