<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fairy Tail Archetype</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- card-loader.js (assuming it's in assets/js/) -->
    <script src="assets/js/card-loader.js"></script>
    <!-- Google Fonts: Inter for body, Playfair Display for headings -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f8ff; /* AliceBlue - Light magical blue */
            color: #1e3a8a; /* Dark Blue text */
        }
        .container {
            max-width: 1024px;
        }
        .card {
            background-color: #ffffff; /* White card background */
            border-radius: 1rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            border: 1px solid #e0e7ff; /* Light indigo/blue border */
        }
        .combo-step-card,
        .pro-con-card {
            background-color: #f5faff; /* Very light blue */
            border: 1px solid #dbeafe;
        }
        .card-image-container {
            width: 100%;
            max-width: 180px;
            flex-shrink: 0;
            cursor: pointer; /* Add cursor pointer for card loader */
        }
        .card-image {
            width: 100%;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .animate-fadeIn {
            animation: fadeIn 0.5s ease-in-out;
        }
        .card-placeholder {
            background-color: #e0e7ff; /* Light indigo/blue placeholder */
            color: #1e3a8a; /* Dark blue text */
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            font-size: 0.75rem;
            line-height: 1rem;
            font-weight: bold;
            height: 100%;
            min-height: 250px;
            border-radius: 0.5rem;
            padding: 0.5rem;
            box-shadow: 0 0 10px #e0e7ff;
        }
        .pro-icon { color: #10b981; } /* Emerald */
        .con-icon { color: #ef4444; } /* Red */
        .neutral-icon { color: #3b82f6; } /* Blue */
        .text-accent { color: #d97706; } /* Amber/Gold */
        .arrow-color { color: #d97706; } /* Amber/Gold */
        .heading-underline {
            border-bottom: 2px solid #d97706;
            display: inline-block;
            padding-bottom: 0.25rem;
        }
        .lore-link {
            color: #d97706;
            font-weight: bold;
            text-decoration: none;
            border-bottom: 1px dotted #d97706;
            transition: color 0.3s;
        }
        .lore-link:hover {
            color: #1e3a8a;
        }

        /* --- New Animated Banner Styles --- */
        .banner-header {
            position: relative;
            min-height: 160px;
            background-color: #1e3a8a; /* Dark Blue */
            border-radius: 1rem;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 2rem;
            margin-bottom: 2.5rem;
            border: 1px solid #d97706;
        }

        #sparkle-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        .banner-header::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: radial-gradient(ellipse at center, rgba(30, 58, 138, 0.4) 0%, rgba(30, 58, 138, 0.9) 100%);
            z-index: 2;
        }

        .banner-header h1, .banner-header p {
            position: relative;
            z-index: 3;
            text-shadow: 0 0 15px rgba(251, 191, 36, 0.7); /* Gold shadow */
            color: #fff;
        }
        
        .banner-header h1 {
             font-family: 'Playfair Display', serif;
             font-size: 2.5rem;
        }
        .banner-header p {
            font-size: 1rem;
            color: #f0f8ff;
        }
        
        @media (min-width: 768px) {
             .banner-header h1 {
                font-size: 3rem;
             }
             .banner-header p {
                font-size: 1.25rem;
             }
        }

        /* --- Yu-Gi-Oh! Themed Home Button Styles --- */
        .ygo-home-button {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
            background: linear-gradient(135deg, #1e1b4b 0%, #312e81 50%, #1e1b4b 100%);
            color: white;
            border: 2px solid #6366f1;
            border-radius: 12px;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 
                0 4px 15px rgba(99, 102, 241, 0.4),
                0 0 20px rgba(99, 102, 241, 0.2);
            transition: all 0.3s ease;
            cursor: pointer;
            text-decoration: none;
            overflow: hidden;
        }
        .ygo-home-button:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 
                0 8px 25px rgba(99, 102, 241, 0.6),
                0 0 30px rgba(99, 102, 241, 0.4);
            border-color: #8b5cf6;
        }
        .ygo-home-button i {
            font-size: 22px;
            text-shadow: 0 0 10px rgba(99, 102, 241, 0.8);
        }
        
        /* Card Popup Styles (Themed) */
        #card-popup {
            position: fixed;
            display: none;
            opacity: 0;
            padding: 1rem;
            background-color: rgba(255, 255, 255, 0.95); /* White popup */
            border: 1px solid #d97706; /* Gold border */
            border-radius: 0.75rem;
            color: #1e3a8a; /* Dark blue text */
            max-width: 300px;
            z-index: 1000;
            pointer-events: none;
            transition: opacity 0.2s ease-in-out;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(5px);
            font-size: 0.875rem;
        }
        #card-popup h3 {
            font-family: 'Playfair Display', serif;
            color: #d97706; /* Gold title */
            font-weight: bold;
            font-size: 1.125rem;
        }
        #card-popup p {
            margin-top: 0.5rem;
        }
        #card-popup-stats {
            font-family: 'Inter', sans-serif;
            font-weight: bold;
            color: #d97706;
        }
    </style>
</head>
<body class="p-4 md:p-8">
    <!-- Card Popup -->
    <div id="card-popup"></div>
    <!-- Yu-Gi-Oh! Themed Home Button -->
    <a href="index.html" class="ygo-home-button" title="Return to Archetype Nexus">
        <i class="fas fa-home"></i>
    </a>

<div class="container mx-auto">
        <!-- Title Section -->
        <header class="banner-header text-center">
            <canvas id="sparkle-canvas"></canvas>
            <h1 class="text-3xl md:text-5xl font-extrabold mb-2">Fairy Tail</h1>
            <p class="text-lg md:text-xl">A Strategic Analysis of the Spellcaster Toolbox</p>
        </header>

        <!-- Executive Summary Section -->
        <section class="mb-10 md:mb-16 animate-fadeIn">
            <div class="card p-6">
                <h2 class="text-xl md:text-2xl font-bold text-accent mb-4">Executive Summary</h2>
                <p class="text-blue-900 leading-relaxed">
                    The <strong class="text-accent font-bold">"Fairy Tail"</strong> archetype is not a linear, explosive combo deck. Instead, it operates as a control-oriented "toolbox" strategy. The deck revolves around using its different Level 4 LIGHT Spellcaster monsters to answer specific threats, controlling the pace of the game through varied forms of disruption.
                    <br><br>
                    The archetype's identity is unified by a shared stat line of <a href="#core-cards" class="lore-link">1850 ATK</a> and 1000 DEF, which is mechanically reinforced by its key Continuous Spell, "Fairy Tail Tales." While the archetype functions as a clever toolbox, its legacy is defined by the overwhelming generic power of <strong class="text-accent font-bold">Fairy Tail - Snow</strong>, a card so powerful it transcended its own theme and ultimately led to its prohibition.
                </p>
            </div>
        </section>

        <!-- The Cast and Crew Section -->
        <section id="core-cards" class="mb-10 md:mb-16">
            <h2 class="text-xl md:text-3xl font-bold text-accent mb-8 text-center heading-underline">The Cast: Core Toolbox Monsters</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Monsters -->
                <div class="card p-6">
                    <div class="flex items-center mb-4">
                        <i class="fas fa-magic text-4xl text-blue-500 mr-4"></i>
                        <h3 class="text-xl font-bold text-blue-900">The Main Characters</h3>
                    </div>
                    <div class="space-y-4">
                        <!-- Luna -->
                        <div class="card combo-step-card p-4">
                            <h4 class="text-lg font-bold text-accent mb-1">Fairy Tail - Luna</h4>
                            <p class="text-sm text-blue-800">The deck's engine and primary consistency tool. On Normal Summon, searches any Spellcaster with 1850 ATK. Also has a Quick Effect to bounce herself and an opponent's monster to the hand.</p>
                        </div>
                        <!-- Rella -->
                        <div class="card combo-step-card p-4">
                            <h4 class="text-lg font-bold text-accent mb-1">Fairy Tail - Rella</h4>
                            <p class="text-sm text-blue-800">The Equip Spell specialist. Can discard a Spell to equip any Equip Spell from the hand, Deck, or GY to herself, offering access to a wide range of utility.</p>
                        </div>
                        <!-- Sleeper -->
                        <div class="card combo-step-card p-4">
                            <h4 class="text-lg font-bold text-accent mb-1">Fairy Tail - Sleeper</h4>
                            <p class="text-sm text-blue-800">A disruptive Flip monster. Her Quick Effect allows you to Tribute another monster to hijack an opponent's Normal Spell/Trap, changing its effect to flip an opponent's monster face-down.</p>
                        </div>
                    </div>
                </div>
                <!-- Spells & The Banned Star -->
                <div class="card p-6">
                    <div class="flex items-center mb-4">
                        <i class="fas fa-book-open text-4xl text-blue-500 mr-4"></i>
                        <h3 class="text-xl font-bold text-blue-900">The Script & The Forbidden Star</h3>
                    </div>
                    <div class="space-y-4">
                        <!-- Tales -->
                        <div class="card combo-step-card p-4">
                            <h4 class="text-lg font-bold text-accent mb-1">Fairy Tail Tales</h4>
                            <p class="text-sm text-blue-800">The Continuous Spell that glues the strategy together. It allows you to reveal a Spellcaster with 1850 ATK in your hand to perform an additional Normal Summon of that monster.</p>
                        </div>
                        <!-- Snow (BANNED) -->
                        <div class="card p-6 bg-red-100 border border-red-400">
                            <h4 class="text-lg font-bold text-red-700 mb-1">Fairy Tail - Snow <span class="text-red-600 font-black">(FORBIDDEN)</span></h4>
                            <p class="text-sm text-red-900">The archetype's most powerful card. On summon, it flips an opponent's monster face-down. Its true power was its Quick Effect to revive itself from the GY by banishing 7 cards, providing repeatable, generic disruption that made it a staple in countless decks.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Core Combo Walkthrough Section -->
        <section class="mb-10 md:mb-16 animate-fadeIn" style="animation-delay: 0.4s;">
            <h2 class="text-xl md:text-3xl font-bold text-accent mb-6 text-center heading-underline">Core "Fairy Tail" Combo</h2>
            <p class="text-blue-900 mb-8 text-center max-w-2xl mx-auto">
                The "Fairy Tail" combo isn't about building an unbreakable board of negates, but about assembling the right tools for the job. The core line begins with "Luna" and "Tales" to establish multiple points of interaction.
            </p>
            <div class="flex flex-col items-center gap-6">
                <!-- Step 1 -->
                <div class="card p-6 combo-step-card w-full max-w-lg">
                    <div class="flex flex-col md:flex-row items-center md:items-start gap-4">
                        <div id="tales-img-container" class="card-image-container flex-shrink-0 card-placeholder">Fairy Tail Tales</div>
                        <div>
                            <div class="flex items-center mb-2">
                                <span class="bg-[#1e3a8a] text-white rounded-full h-8 w-8 flex items-center justify-center font-bold mr-3">1</span>
                                <h3 class="text-lg font-bold">Activate the Spell</h3>
                            </div>
                            <p class="text-blue-900">Activate the Continuous Spell <strong class="text-accent">Fairy Tail Tales</strong>. This is the key to enabling your additional summon.</p>
                        </div>
                    </div>
                </div>
                <!-- Arrow -->
                <div class="w-full flex justify-center">
                    <svg class="h-10 w-10 arrow-color animate-fadeIn" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
                    </svg>
                </div>
                <!-- Step 2 -->
                <div class="card p-6 combo-step-card w-full max-w-lg">
                     <div class="flex flex-col md:flex-row items-center md:items-start gap-4">
                        <div id="luna-img-container" class="card-image-container flex-shrink-0 card-placeholder">Fairy Tail - Luna</div>
                        <div>
                            <div class="flex items-center mb-2">
                                <span class="bg-[#1e3a8a] text-white rounded-full h-8 w-8 flex items-center justify-center font-bold mr-3">2</span>
                                <h3 class="text-lg font-bold">Summon and Search</h3>
                            </div>
                            <p class="text-blue-900">Normal Summon <strong class="text-accent">Fairy Tail - Luna</strong>. Use her effect to search your deck for another "Fairy Tail" monster, such as <strong class="text-accent">Fairy Tail - Sleeper</strong>.</p>
                        </div>
                    </div>
                </div>
                <!-- Arrow -->
                <div class="w-full flex justify-center">
                    <svg class="h-10 w-10 arrow-color animate-fadeIn" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
                    </svg>
                </div>
                <!-- Step 3 -->
                <div class="card p-6 combo-step-card w-full max-w-lg">
                     <div class="flex flex-col md:flex-row items-center md:items-start gap-4">
                        <div id="sleeper-img-container" class="card-image-container flex-shrink-0 card-placeholder">Fairy Tail - Sleeper</div>
                        <div>
                            <div class="flex items-center mb-2">
                                <span class="bg-[#1e3a8a] text-white rounded-full h-8 w-8 flex items-center justify-center font-bold mr-3">3</span>
                                <h3 class="text-lg font-bold">The Second Summon</h3>
                            </div>
                            <p class="text-blue-900">Use the effect of <strong class="text-accent">Fairy Tail Tales</strong>, revealing the <strong class="text-accent">Sleeper</strong> you just searched. This grants you an additional Normal Summon, allowing you to immediately summon Sleeper to the field, establishing two forms of disruption.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Endboard Section -->
        <section class="mb-10 md:mb-16 animate-fadeIn" style="animation-delay: 0.6s;">
            <h2 class="text-xl md:text-3xl font-bold text-accent mb-6 text-center heading-underline">The "Fairy Tail" End Board</h2>
            <p class="text-blue-900 mb-8 text-center max-w-3xl mx-auto">
                The ideal end board for a pure "Fairy Tail" deck is a field of multiple monsters that can disrupt the opponent in different ways, forcing them to navigate multiple, varied types of interaction.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mx-auto max-w-4xl">
                <!-- On-Field Disruption -->
                <div class="card p-6 pro-con-card">
                    <h3 class="text-xl font-bold text-blue-900 mb-4 text-center">On-Field Control</h3>
                    <div class="flex justify-center mb-4">
                        <div id="luna-end-img-container" class="card-image-container card-placeholder">Fairy Tail - Luna</div>
                    </div>
                    <ul class="list-disc list-inside space-y-2 text-blue-900">
                        <li><strong class="text-accent">Fairy Tail - Luna:</strong> Ready to activate her Quick Effect to bounce a key opposing monster during the opponent's turn.</li>
                        <li><strong class="text-accent">Fairy Tail - Sleeper:</strong> On the field, ready to Tribute Luna (or another monster) to hijack a powerful Spell or Trap card.</li>
                    </ul>
                </div>
                <!-- GY Disruption (Historical) -->
                <div class="card p-6 pro-con-card bg-gray-100 border-gray-400">
                    <h3 class="text-xl font-bold text-gray-700 mb-4 text-center">The Forbidden Threat (Historical)</h3>
                    <div class="flex justify-center mb-4">
                        <div id="snow-end-img-container" class="card-image-container card-placeholder">Fairy Tail - Snow</div>
                    </div>
                    <ul class="list-disc list-inside space-y-2 text-gray-800">
                        <li><strong class="text-red-600">Fairy Tail - Snow (in GY):</strong> Historically, this was the most powerful piece. A <strong class="text-red-700 font-bold">FORBIDDEN</strong> Quick Effect disruption from the Graveyard that could be activated at any time to flip a key monster face-down.</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Competitive Analysis Section -->
        <section class="mb-10 md:mb-16 animate-fadeIn" style="animation-delay: 0.8s;">
            <h2 class="text-xl md:text-3xl font-bold text-accent mb-6 text-center heading-underline">Competitive Analysis</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Strengths Card -->
                <div class="card p-6 pro-con-card">
                    <h3 class="text-xl font-bold text-green-700 mb-4">Strengths</h3>
                    <ul class="list-disc list-inside space-y-2 text-blue-900">
                        <li><span class="pro-icon"><i class="fas fa-check-circle"></i></span> <strong class="text-green-600">Toolbox Strategy:</strong> "Luna" can search for the right answer to many situations.</li>
                        <li><span class="pro-icon"><i class="fas fa-layer-group"></i></span> <strong class="text-green-600">Flexible Control:</strong> Offers varied disruption (bouncing, S/T hijacking) rather than just monster negates.</li>
                        <li><span class="pro-icon"><i class="fas fa-star"></i></span> <strong class="text-green-600">Unique Mechanic:</strong> The "1850 ATK" synergy is unique and well-supported within the archetype.</li>
                    </ul>
                </div>
                <!-- Weaknesses Card -->
                <div class="card p-6 pro-con-card">
                    <h3 class="text-xl font-bold text-red-700 mb-4">Weaknesses</h3>
                    <ul class="list-disc list-inside space-y-2 text-blue-900">
                        <li><span class="con-icon"><i class="fas fa-ban"></i></span> <strong class="text-red-600">"Snow" is Forbidden:</strong> The deck's single most powerful card is banned, massively reducing its ceiling and power level.</li>
                        <li><span class="con-icon"><i class="fas fa-hand-paper"></i></span> <strong class="text-red-600">Normal Summon Reliant:</strong> The core combo relies on "Luna's" Normal Summon, making it very vulnerable to "Ash Blossom" or "Effect Veiler".</li>
                        <li><span class="con-icon"><i class="fas fa-forward"></i></span> <strong class="text-red-600">Lacks Speed:</strong> Operates at a slower, control-oriented pace that can be overwhelmed by modern combo decks.</li>
                    </ul>
                </div>
                <!-- Legacy of Snow -->
                <div class="card p-6 pro-con-card md:col-span-2 lg:col-span-1">
                    <h3 class="text-xl font-bold text-blue-900 mb-4">The Legacy of "Snow"</h3>
                    <ul class="list-disc list-inside space-y-2 text-blue-900">
                        <li><span class="neutral-icon"><i class="fas fa-book-dead"></i></span> <strong class="text-accent">A Generic Staple:</strong> "Snow's" GY effect was so generic and powerful that it was used in countless other decks (Lightsworn, Zombies, 60-card piles).</li>
                        <li><span class="neutral-icon"><i class="fas fa-ghost"></i></span> <strong class="text-accent">Metagame Defining:</strong> The ability to provide Spell Speed 2 disruption *and* extension from the GY was too much, leading to its prohibition.</li>
                        <li><span class="neutral-icon"><i class="fas fa-shadows"></i></span> <strong class="text-accent">Overshadowed Archetype:</strong> "Snow's" power completely overshadowed the rest of her own archetype, which is the main reason "Fairy Tail" is known.</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- TCG Banlist Status Section -->
        <section class="mb-10 md:mb-16">
            <h2 class="text-xl md:text-3xl font-bold text-accent mb-6 text-center heading-underline">Current TCG Banlist Status</h2>
            <div class="card p-6">
                <p class="text-blue-900 mb-4 text-center">
                    <strong class="text-red-700 font-bold">CRITICAL IMPACT:</strong> The "Fairy Tail" archetype is defined by the prohibition of its most powerful member.
                </p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- Forbidden -->
                    <div class="card combo-step-card p-4 bg-red-100 border-red-400">
                        <h4 class="text-lg font-bold text-red-700 mb-2">Forbidden Cards</h4>
                        <ul class="list-disc list-inside space-y-1 text-sm text-red-900">
                            <li><strong class="text-red-600">Fairy Tail - Snow (0 copies)</strong> - Archetype's core power card, generic extender, and main disruption tool.</li>
                        </ul>
                    </div>
                    <!-- Unrestricted -->
                    <div class="card combo-step-card p-4 bg-green-100 border-green-400">
                        <h4 class="text-lg font-bold text-green-700 mb-2">Unrestricted Cards</h4>
                        <ul class="list-disc list-inside space-y-1 text-sm text-green-900">
                            <li><strong>Fairy Tail - Luna (3 copies)</strong></li>
                            <li><strong>Fairy Tail - Rella (3 copies)</strong></li>
                            <li><strong>Fairy Tail - Sleeper (3 copies)</strong></li>
                            <li><strong>Fairy Tail Tales (3 copies)</strong></li>
                        </ul>
                    </div>
                </div>
                <div class="mt-4 p-3 bg-red-100 rounded border-l-4 border-red-600">
                    <p class="text-sm text-red-900"><strong>Meta Implications:</strong> With "Fairy Tail - Snow" forbidden, the deck loses its primary win condition, its best disruption, and its main source of power. The "pure" toolbox strategy remains playable but is considered a casual, low-tier deck that lacks the impact it once had.
                    </p>
                </div>
            </div>
        </section>
    </div>

    <!-- Scripts -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- FAIRY TAIL SPARKLE ANIMATION ---
            const canvas = document.getElementById('sparkle-canvas');
            if (canvas) {
                const ctx = canvas.getContext('2d');
                let particles = [];
                const numParticles = 100;

                const setCanvasSize = () => {
                    canvas.width = canvas.offsetWidth;
                    canvas.height = canvas.offsetHeight;
                };

                class Particle {
                    constructor() {
                        this.x = Math.random() * canvas.width;
                        this.y = Math.random() * canvas.height;
                        this.size = Math.random() * 2 + 1;
                        this.speedY = Math.random() * 1 + 0.5;
                        this.opacity = Math.random() * 0.5 + 0.5;
                    }
                    update() {
                        this.y -= this.speedY;
                        this.opacity -= 0.01;
                        if (this.y < 0 || this.opacity <= 0) {
                            this.y = canvas.height;
                            this.x = Math.random() * canvas.width;
                            this.opacity = Math.random() * 0.5 + 0.5;
                            this.speedY = Math.random() * 1 + 0.5;
                        }
                    }
                    draw() {
                        ctx.beginPath();
                        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                        ctx.fillStyle = `rgba(251, 191, 36, ${this.opacity})`; // Gold sparkle
                        ctx.fill();
                        ctx.closePath();
                    }
                }

                function initParticles() {
                    particles = [];
                    for (let i = 0; i < numParticles; i++) {
                        particles.push(new Particle());
                    }
                }

                function animate() {
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                    particles.forEach(p => {
                        p.update();
                        p.draw();
                    });
                    requestAnimationFrame(animate);
                }

                setCanvasSize();
                initParticles();
                animate();

                window.addEventListener('resize', () => {
                    setCanvasSize();
                    initParticles();
                });
            }

            // --- CARD LOADING SCRIPT ---
            // Use the global CardLoader from card-loader.js
            if (typeof CardLoader !== 'undefined') {
                CardLoader.loadCards({
                    'tales-img-container': 'Fairy Tail Tales',
                    'luna-img-container': 'Fairy Tail - Luna',
                    'sleeper-img-container': 'Fairy Tail - Sleeper',
                    'luna-end-img-container': 'Fairy Tail - Luna',
                    'snow-end-img-container': 'Fairy Tail - Snow'
                    // Add other card containers here if needed, e.g., for the main list
                    // 'rella-img-container': 'Fairy Tail - Rella'
                });
            } else {
                console.error("CardLoader is not defined. Make sure card-loader.js is loaded correctly.");
            }
        });
    </script>
</body>
</html>
