<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Icon Test - Yu-Gi-Oh! Archetypes</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body class="p-4 bg-gray-900">
    <div class="container mx-auto max-w-4xl">
        <h1 class="text-3xl font-bold text-white mb-6 text-center">üß™ Icon Loading Test</h1>
        
        <div id="test-results" class="mb-6 p-4 bg-gray-800 rounded-lg">
            <h2 class="text-xl font-semibold text-white mb-2">Test Results:</h2>
            <div id="test-output" class="text-gray-300">Loading...</div>
        </div>
        
        <div id="sample-icons" class="grid grid-cols-2 md:grid-cols-4 gap-4">
            <!-- Sample icons will be displayed here -->
        </div>
        
        <div class="text-center mt-6">
            <a href="index-refactored.html" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition-colors">
                ‚Üê Back to Main Page
            </a>
        </div>
    </div>

    <script src="assets/js/archetypes-data.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const testOutput = document.getElementById('test-output');
            const sampleIcons = document.getElementById('sample-icons');
            
            try {
                if (typeof archetypes === 'undefined') {
                    throw new Error('Archetypes data not loaded');
                }
                
                if (!Array.isArray(archetypes)) {
                    throw new Error('Archetypes is not an array');
                }
                
                const totalArchetypes = archetypes.length;
                const archetypesWithIcons = archetypes.filter(a => a.icon && a.icon.trim().length > 0).length;
                const archetypesWithNames = archetypes.filter(a => a.name && a.name.trim().length > 0).length;
                
                testOutput.innerHTML = `
                    <div class="space-y-2">
                        <div class="flex justify-between">
                            <span>Total Archetypes:</span>
                            <span class="text-green-400">${totalArchetypes}</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Archetypes with Names:</span>
                            <span class="text-green-400">${archetypesWithNames}</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Archetypes with Icons:</span>
                            <span class="text-green-400">${archetypesWithIcons}</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Icon Coverage:</span>
                            <span class="text-green-400">${((archetypesWithIcons/totalArchetypes)*100).toFixed(1)}%</span>
                        </div>
                        <div class="mt-4 p-2 bg-green-900/20 border border-green-500/30 rounded">
                            <strong class="text-green-400">‚úÖ All tests passed!</strong>
                        </div>
                    </div>
                `;
                
                // Show first 8 archetypes as samples
                const sampleArchetypes = archetypes.slice(0, 8);
                sampleArchetypes.forEach(archetype => {
                    const card = document.createElement('div');
                    card.className = 'card p-4 text-center';
                    card.innerHTML = `
                        <div class="card-image mb-2">
                            ${archetype.icon}
                        </div>
                        <h3 class="text-white font-semibold text-sm">${archetype.name}</h3>
                    `;
                    sampleIcons.appendChild(card);
                });
                
            } catch (error) {
                testOutput.innerHTML = `
                    <div class="p-2 bg-red-900/20 border border-red-500/30 rounded">
                        <strong class="text-red-400">‚ùå Error:</strong> ${error.message}
                    </div>
                `;
            }
        });
    </script>
</body>
</html>