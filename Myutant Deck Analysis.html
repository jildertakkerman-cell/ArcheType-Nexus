<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Myutant Archetype</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="assets/js/card-loader.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Orbitron:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0d0c1d; /* Deep Void Purple */
            color: #e0e7ff; /* Lavender Mist */
        }
        .container {
            max-width: 1024px;
        }
        .card {
            background-color: rgba(30, 28, 60, 0.8); /* Translucent Lab Purple */
            border-radius: 1rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
            border: 1px solid #4c1d95; /* Deep Violet */
            backdrop-filter: blur(5px);
        }
        .combo-step-card, .pro-con-card {
            background-color: #2e1065; /* Indigo Night */
            border: 1px solid #5b21b6; /* Vibrant Violet */
        }
        .card-image-container {
            width: 100%;
            max-width: 180px;
            flex-shrink: 0;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeIn {
            animation: fadeIn 0.5s ease-in-out forwards;
        }
        .card-placeholder {
            background-color: #1e1b4b; /* Midnight Blue */
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            cursor: pointer;
            font-size: 0.75rem;
            line-height: 1rem;
            font-weight: bold;
            height: 100%;
            min-height: 250px;
            border-radius: 0.5rem;
            padding: 0.5rem;
            box-shadow: inset 0 0 15px rgba(167, 139, 250, 0.3);
        }
        .text-accent { color: #86efac; } /* Bio-Luminescent Green */
        .lore-link {
            color: #a78bfa; /* Light Violet */
            font-weight: bold;
            text-decoration: none;
            border-bottom: 1px dotted #a78bfa;
            transition: color 0.3s, text-shadow 0.3s;
        }
        .lore-link:hover {
            color: #c4b5fd;
            text-shadow: 0 0 5px #c4b5fd;
        }
        
        /* --- Banner Styles --- */
        .banner-header {
            position: relative;
            height: 160px;
            background-color: #0d0c1d;
            border-radius: 1rem;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 1rem;
            margin-bottom: 2.5rem;
            border: 1px solid #4c1d95;
        }
        #mutation-banner {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }
        .banner-header::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: radial-gradient(circle, rgba(13, 12, 29, 0.4) 0%, rgba(13, 12, 29, 0.9) 100%);
            z-index: 2;
        }
        .banner-header h1, .banner-header p {
            position: relative;
            z-index: 3;
            text-shadow: 0 0 10px rgba(134, 239, 172, 0.5);
        }
        .banner-header h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.5rem;
            color: #a7f3d0; /* Mint Green */
        }
        
        /* --- Home Button --- */
        .ygo-home-button {
            position: fixed; top: 20px; left: 20px; z-index: 1000;
            background: linear-gradient(135deg, #1e1b4b 0%, #312e81 50%, #1e1b4b 100%);
            color: white; border: 2px solid #6366f1; border-radius: 12px;
            width: 60px; height: 60px; display: flex; align-items: center; justify-content: center;
            box-shadow: 0 4px 15px rgba(99, 102, 241, 0.4), 0 0 20px rgba(99, 102, 241, 0.2);
            transition: all 0.3s ease; cursor: pointer; text-decoration: none; overflow: hidden;
        }
        .ygo-home-button:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 25px rgba(99, 102, 241, 0.6), 0 0 30px rgba(99, 102, 241, 0.4);
            border-color: #8b5cf6;
        }
        .ygo-home-button i { font-size: 22px; position: relative; z-index: 2; text-shadow: 0 0 10px rgba(99, 102, 241, 0.8); }

        /* Card Popup Styles */
        #card-popup {
            position: fixed;
            background: linear-gradient(135deg, rgba(30, 28, 60, 0.9) 0%, #2e1065 100%);
            border: 2px solid #8b5cf6;
            border-radius: 12px;
            padding: 16px;
            max-width: 300px;
            max-height: 400px;
            overflow-y: auto;
            box-shadow: 0 8px 32px rgba(139, 92, 246, 0.3);
            z-index: 10000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s ease;
            font-family: 'Inter', sans-serif;
            color: #e0e7ff;
            backdrop-filter: blur(5px);
        }
        #card-popup.show {
            opacity: 1;
            pointer-events: auto;
        }
        #card-popup img {
            width: 100%;
            height: auto;
            border-radius: 8px;
            margin-bottom: 12px;
        }
        #card-popup h3 {
            font-size: 1.125rem;
            font-weight: 700;
            color: #8b5cf6;
            margin-bottom: 8px;
            text-align: center;
        }
        #card-popup .type {
            font-size: 0.875rem;
            color: #a78bfa;
            text-align: center;
            margin-bottom: 4px;
        }
        #card-popup .stats {
            font-size: 0.75rem;
            color: #c4b5fd;
            text-align: center;
            margin-bottom: 8px;
        }
        #card-popup p {
            font-size: 0.875rem;
            line-height: 1.4;
            color: #e0e7ff;
            word-wrap: break-word;
        }

    </style>
</head>
<body class="p-4 md:p-8">
    <a href="index-refactored.html" class="ygo-home-button" title="Return to Archetype Nexus">
        <i class="fas fa-home"></i>
    </a>

<div class="container mx-auto">
        <!-- Title Section -->
        <header class="banner-header text-center">
            <canvas id="mutation-banner"></canvas>
            <h1 class="text-3xl md:text-5xl font-bold mb-2">Myutant</h1>
            <p class="text-lg md:text-xl text-indigo-300">An Analysis of Adaptive Evolution</p>
        </header>

        <!-- Executive Summary Section -->
        <section class="mb-10 md:mb-16">
            <div class="card p-6 animate-fadeIn">
                <h2 class="text-xl md:text-2xl font-bold text-white mb-4">Executive Summary</h2>
                <p class="text-indigo-200">
                    Emerging from the experimental labs of the Phantom Rage booster set, the <strong class="text-accent font-bold">Myutant</strong> archetype introduced a unique, control-oriented strategy. At its core, Myutant is a Psychic- and Fusion-based theme that thrives on adaptation and resource management. The archetype's central gameplay loop revolves around <a href="https://www.db.yugioh-card.com/yugiohdb/card_search.action?ope=2&cid=15570" target="_blank" class="lore-link">a fascinating process of evolution</a>: small, low-level "test subject" monsters mutate into formidable Level 8 behemoths, each specialized in countering a specific type of card effect. This process is fueled by the deck's signature mechanicâ€”banishing cards from the hand and field, not merely as a cost, but as a strategic investment that loads the banished zone to be used as a secondary resource pool.
                </p>
            </div>
        </section>

        <!-- Core Components Section -->
        <section class="mb-10 md:mb-16">
            <h2 class="text-xl md:text-3xl font-bold text-white mb-6 text-center">The Myutant Laboratory: Core Components</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Low-Level Monsters -->
                <div class="card p-6 animate-fadeIn" style="animation-delay: 0.2s;">
                    <h3 class="text-xl font-bold text-accent mb-4">Test Subjects</h3>
                    <ul class="space-y-3 text-indigo-200">
                        <li><strong class="text-white">Myutant M-05:</strong> Searches for any "Myutant" Monster.</li>
                        <li><strong class="text-white">Myutant ST-46:</strong> Searches for any "Myutant" Spell/Trap.</li>
                        <li class="pt-2 border-t border-indigo-900"><strong class="text-white">Shared Effect:</strong> Both can Tribute themselves and banish a card (Monster, Spell, or Trap) to Special Summon a corresponding Level 8 "Myutant" from the Deck.</li>
                    </ul>
                </div>
                <!-- Level 8 Bosses -->
                <div class="card p-6 animate-fadeIn" style="animation-delay: 0.4s;">
                    <h3 class="text-xl font-bold text-accent mb-4">First Mutation</h3>
                    <ul class="space-y-3 text-indigo-200">
                        <li><strong class="text-white">Myutant Beast:</strong> (Summoned by banishing a Monster) Negates and banishes Spell cards.</li>
                        <li><strong class="text-white">Myutant Arsenal:</strong> (Summoned by banishing a Trap) Banishes a monster on the field.</li>
                        <li><strong class="text-white">Myutant Mist:</strong> (Summoned by banishing a Spell) Draws 2 cards when a Trap is activated.</li>
                    </ul>
                </div>
                <!-- Spells & Traps -->
                <div class="card p-6 animate-fadeIn" style="animation-delay: 0.6s;">
                    <h3 class="text-xl font-bold text-accent mb-4">Research Facility</h3>
                     <ul class="space-y-3 text-indigo-200">
                        <li><strong class="text-white">Myutant Evolution Lab:</strong> Field Spell that Special Summons a small Myutant from hand or banished zone.</li>
                        <li><strong class="text-white">Myutant Cry:</strong> The key Trap. Fusion Summons on the opponent's turn by shuffling back banished resources.</li>
                        <li><strong class="text-white">Myutant Fusion:</strong> Fusion Spell that can use materials from the Deck if the opponent activated an effect this turn.</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Core Combo Section -->
        <section class="mb-10 md:mb-16">
            <h2 class="text-xl md:text-3xl font-bold text-white mb-6 text-center">Mutation Sequence: One-Card Starter</h2>
            <div class="flex flex-col items-center gap-6">
                <!-- Step 1 -->
                <div class="card p-6 combo-step-card w-full max-w-lg animate-fadeIn">
                    <div class="flex flex-col md:flex-row items-center md:items-start gap-4">
                        <div id="st46-img-container" class="card-image-container flex-shrink-0"></div>
                        <div>
                            <div class="flex items-center mb-2">
                                <span class="bg-[#1e1b4b] text-white rounded-full h-8 w-8 flex items-center justify-center font-bold mr-3">1</span>
                                <h3 class="text-lg font-bold">Normal Summon & Search</h3>
                            </div>
                            <p class="text-indigo-200">Normal Summon <strong class="text-accent">Myutant ST-46</strong>. Use its effect to search for <strong class="text-accent">Myutant Cry</strong> from your Deck.</p>
                        </div>
                    </div>
                </div>
                <!-- Arrow -->
                <div class="w-full flex justify-center animate-fadeIn">
                    <i class="fas fa-arrow-down text-4xl text-indigo-400 my-4"></i>
                </div>
                <!-- Step 2 -->
                <div class="card p-6 combo-step-card w-full max-w-lg animate-fadeIn">
                     <div class="flex flex-col md:flex-row items-center md:items-start gap-4">
                        <div id="beast-img-container" class="card-image-container flex-shrink-0"></div>
                        <div>
                            <div class="flex items-center mb-2">
                                <span class="bg-[#1e1b4b] text-white rounded-full h-8 w-8 flex items-center justify-center font-bold mr-3">2</span>
                                <h3 class="text-lg font-bold">Tribute & Mutate</h3>
                            </div>
                            <p class="text-indigo-200">Activate <strong class="text-accent">ST-46</strong>'s second effect. Tribute it and banish a Monster from your hand to Special Summon <strong class="text-accent">Myutant Beast</strong> from the Deck.</p>
                        </div>
                    </div>
                </div>
                 <!-- Arrow -->
                <div class="w-full flex justify-center animate-fadeIn">
                    <i class="fas fa-arrow-down text-4xl text-indigo-400 my-4"></i>
                </div>
                <!-- Step 3 -->
                <div class="card p-6 combo-step-card w-full max-w-lg animate-fadeIn">
                     <div class="flex flex-col md:flex-row items-center md:items-start gap-4">
                        <div id="cry-img-container" class="card-image-container flex-shrink-0"></div>
                        <div>
                            <div class="flex items-center mb-2">
                                <span class="bg-[#1e1b4b] text-white rounded-full h-8 w-8 flex items-center justify-center font-bold mr-3">3</span>
                                <h3 class="text-lg font-bold">Set Interruption & End</h3>
                            </div>
                            <p class="text-indigo-200">Set the <strong class="text-accent">Myutant Cry</strong> you searched. End your turn with a Spell negate on board and a powerful Trap ready.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Endboard Section -->
        <section class="mb-10 md:mb-16">
            <h2 class="text-xl md:text-3xl font-bold text-white mb-6 text-center">Ideal Endboard & Disruptive Potential</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center max-w-4xl mx-auto">
                <div class="card p-6 pro-con-card animate-fadeIn">
                    <h3 class="text-xl font-bold text-white mb-4 text-center">Turn 1 Setup</h3>
                    <ul class="list-disc list-inside space-y-2 text-indigo-200">
                        <li><strong class="text-accent">Myutant Beast:</strong> Provides a Quick Effect Spell negate, protecting your backrow and key cards.</li>
                        <li><strong class="text-accent">Set Myutant Cry:</strong> Your primary interaction, allowing you to Fusion Summon on the opponent's turn.</li>
                         <li><strong class="text-accent">Myutant Evolution Lab:</strong> (Optional) Provides recovery and follow-up for your next turn.</li>
                    </ul>
                </div>
                <div class="card p-6 pro-con-card animate-fadeIn">
                     <h3 class="text-xl font-bold text-white mb-4 text-center">Opponent's Turn Disruption</h3>
                    <div class="flex flex-col items-center">
                         <div id="synthesis-img-container" class="card-image-container mb-4"></div>
                        <p class="text-indigo-200 text-center">Activate <strong class="text-accent">Myutant Cry</strong> to Fusion Summon <strong class="text-accent">Myutant Synthesis</strong>, using its on-summon effect to destroy a key card your opponent controls.</p>
                    </div>
                </div>
            </div>
        </section>

         <!-- TCG Banlist Impact Section -->
        <section class="mb-10 md:mb-16">
            <h2 class="text-xl md:text-3xl font-bold text-white mb-6 text-center">TCG Banlist Impact</h2>
            <div class="card p-6 animate-fadeIn">
                <div class="p-4 bg-green-900 bg-opacity-30 rounded border-l-4 border-green-500">
                    <p class="text-lg text-green-300 font-bold mb-2">Archetype Status: Unrestricted</p>
                    <p class="text-sm text-gray-300">As of the current TCG Forbidden & Limited List, all "Myutant" monsters, spells, and traps are unlimited. This allows the archetype to be played at its full, intended power level without any internal restrictions on its core engine or consistency pieces.</p>
                </div>
            </div>
        </section>
        
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            // --- MUTATION BANNER ANIMATION ---
            const canvas = document.getElementById('mutation-banner');
            if (canvas) {
                const ctx = canvas.getContext('2d');
                let particles = [];
                const particleCount = 50;

                const setCanvasSize = () => {
                    canvas.width = canvas.offsetWidth;
                    canvas.height = canvas.offsetHeight;
                };

                class Particle {
                    constructor() {
                        this.x = Math.random() * canvas.width;
                        this.y = Math.random() * canvas.height;
                        this.size = Math.random() * 3 + 1;
                        this.speedX = (Math.random() * 1 - 0.5);
                        this.speedY = (Math.random() * 1 - 0.5);
                        this.color = `rgba(134, 239, 172, ${Math.random() * 0.5 + 0.2})`;
                    }
                    update() {
                        this.x += this.speedX;
                        this.y += this.speedY;

                        if (this.size > 0.1) this.size -= 0.02;
                        if (this.size <= 0.1) {
                            this.x = Math.random() * canvas.width;
                            this.y = Math.random() * canvas.height;
                            this.size = Math.random() * 3 + 1;
                            this.speedX = (Math.random() * 1 - 0.5);
                            this.speedY = (Math.random() * 1 - 0.5);
                        }
                    }
                    draw() {
                        ctx.fillStyle = this.color;
                        ctx.beginPath();
                        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                        ctx.fill();
                    }
                }

                function init() {
                    particles = [];
                    for (let i = 0; i < particleCount; i++) {
                        particles.push(new Particle());
                    }
                }

                function animate() {
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                    for (let i = 0; i < particles.length; i++) {
                        particles[i].update();
                        particles[i].draw();
                    }
                    requestAnimationFrame(animate);
                }
                
                setCanvasSize();
                init();
                animate();

                window.addEventListener('resize', () => {
                    setCanvasSize();
                    init();
                });
            }

            // --- Card Popup System ---
            const cardDataCache = {};
            let currentPopupCard = null;
            let isPopupVisible = false;

            async function fetchCardData(cardName) {
                if (cardDataCache[cardName]) {
                    return cardDataCache[cardName];
                }
                try {
                    const response = await fetch(`https://db.ygoprodeck.com/api/v7/cardinfo.php?name=${encodeURIComponent(cardName)}`);
                    if (!response.ok) throw new Error('API error');
                    const data = await response.json();
                    const card = data.data[0];
                    cardDataCache[cardName] = card;
                    return card;
                } catch (error) {
                    console.error(`Failed to fetch data for "${cardName}":`, error);
                    return null;
                }
            }

            function showPopup(cardData, event) {
                const popup = document.getElementById('card-popup');
                if (!popup || !cardData) return;

                const imageUrl = cardData.card_images?.[0]?.image_url;
                const name = cardData.name || 'Unknown';
                const type = cardData.type || '';
                const desc = cardData.desc || '';
                const atk = cardData.atk !== undefined ? cardData.atk : '';
                const def = cardData.def !== undefined ? cardData.def : '';
                const level = cardData.level ? `Level ${cardData.level}` : '';
                const race = cardData.race || '';
                const attribute = cardData.attribute || '';

                let stats = '';
                if (level) stats += level + ' ';
                if (race) stats += race + ' ';
                if (attribute) stats += attribute + ' ';
                if (atk !== '') stats += `ATK/${atk} `;
                if (def !== '') stats += `DEF/${def}`;

                popup.innerHTML = `
                    ${imageUrl ? `<img src="${imageUrl}" alt="${name}">` : ''}
                    <h3>${name}</h3>
                    <p class="type">${type}</p>
                    <p class="stats">${stats}</p>
                    <p>${desc}</p>
                `;

                popup.classList.add('show');
                isPopupVisible = true;
                currentPopupCard = cardData;
                movePopup(event);
            }

            function hidePopup() {
                const popup = document.getElementById('card-popup');
                if (popup) {
                    popup.classList.remove('show');
                    isPopupVisible = false;
                    currentPopupCard = null;
                }
            }

            function movePopup(event) {
                if (!isPopupVisible) return;
                const popup = document.getElementById('card-popup');
                if (!popup) return;

                const mouseX = event.clientX;
                const mouseY = event.clientY;
                const popupWidth = 300;
                const popupHeight = 400;
                const margin = 10;

                let left = mouseX + margin;
                let top = mouseY + margin;

                if (left + popupWidth > window.innerWidth) {
                    left = mouseX - popupWidth - margin;
                }
                if (top + popupHeight > window.innerHeight) {
                    top = mouseY - popupHeight - margin;
                }

                popup.style.left = `${left}px`;
                popup.style.top = `${top}px`;
            }

            document.addEventListener('mousemove', movePopup);
            document.addEventListener('click', (event) => {
                if (!event.target.closest('.card-placeholder')) {
                    hidePopup();
                }
            });

            const cardsToLoad = {
                'st46-img-container': 'Myutant ST-46',
                'beast-img-container': 'Myutant Beast',
                'cry-img-container': 'Myutant Cry',
                'synthesis-img-container': 'Myutant Synthesis'
            };

            for (const [containerId, cardName] of Object.entries(cardsToLoad)) {
                const container = document.getElementById(containerId);
                if (container) {
                    container.innerHTML = `<div class="card-placeholder animate-fadeIn">${cardName}</div>`;
                    container.addEventListener('click', async (event) => {
                        event.stopPropagation();
                        if (isPopupVisible && currentPopupCard?.name === cardName) {
                            hidePopup();
                        } else {
                            const cardData = await fetchCardData(cardName);
                            showPopup(cardData, event);
                        }
                    });
                }
            }
        });
    </script>

    <!-- Card Popup Container -->
    <div id="card-popup"></div>

</body>
</html>

