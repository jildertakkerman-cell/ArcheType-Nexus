<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Metaphys Archetype Analysis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0c0a1a; /* Deep cosmic purple/blue */
            color: #e0e7ff; /* Light lavender-white */
        }
        .container {
            max-width: 1024px;
        }
        .card {
            background-color: rgba(23, 20, 48, 0.7); /* Translucent dark purple */
            backdrop-filter: blur(10px);
            border-radius: 1rem;
            box-shadow: 0 0 15px rgba(167, 139, 250, 0.2), 0 0 30px rgba(167, 139, 250, 0.1);
            border: 1px solid #4f46e5; /* Indigo border */
            transition: all 0.3s ease;
        }
        .card:hover {
            border-color: #a5b4fc;
            box-shadow: 0 0 25px rgba(167, 139, 250, 0.4), 0 0 40px rgba(167, 139, 250, 0.2);
        }
        .combo-step-card {
            background-color: rgba(36, 31, 74, 0.7);
            border: 1px solid #6366f1;
        }
        .pro-con-card {
            background-color: rgba(36, 31, 74, 0.7);
            border: 1px solid #6366f1;
        }
        .card-image-container {
            width: 100%;
            max-width: 180px;
            flex-shrink: 0;
            border-radius: 1rem;
            background: linear-gradient(135deg, #ede9fe 0%, #a5b4fc 50%, #f0abfc 100%);
            box-shadow: 0 0 18px 4px rgba(167,139,250,0.18);
            position: relative;
            overflow: hidden;
            transition: box-shadow 0.3s, transform 0.3s;
        }
        .card-image-container:hover {
            box-shadow: 0 0 32px 8px #f0abfc, 0 0 48px 12px #a5b4fc;
            transform: scale(1.04) translateY(-2px);
        }
        .card-image-container .card-icon {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 32px;
            height: 32px;
            z-index: 2;
            opacity: 0.85;
        }
        .card-image {
            width: 100%;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .card-placeholder {
            background: linear-gradient(135deg, #ede9fe 0%, #a5b4fc 50%, #f0abfc 100%);
            color: #a5b4fc;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            font-size: 0.85rem;
            line-height: 1.2rem;
            font-weight: bold;
            height: auto;
            min-height: 140px;
            border-radius: 1rem;
            padding: 0.5rem;
            box-shadow: 0 0 18px 4px rgba(167,139,250,0.18);
        }
        .text-accent {
            color: #f59e0b; /* Golden Amber */
            text-shadow: 0 0 5px rgba(245, 158, 11, 0.5);
        }
        .heading-underline {
            border-bottom: 2px solid #f59e0b;
            display: inline-block;
            padding-bottom: 0.25rem;
        }
        .lore-link {
            color: #f59e0b;
            font-weight: bold;
            text-decoration: none;
            border-bottom: 1px dotted #f59e0b;
            transition: color 0.3s, text-shadow 0.3s;
        }
        .lore-link:hover {
            color: #fff;
            text-shadow: 0 0 8px rgba(245, 158, 11, 0.7);
        }
        
        /* --- Animated Banner --- */
        .banner-header {
            position: relative;
            min-height: 160px;
            border-radius: 1rem;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 2rem;
            margin-bottom: 2.5rem;
            background: radial-gradient(ellipse at center, #1e1b4b 0%, #0c0a1a 70%);
        }
        #starfield-banner {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }
        .banner-header h1, .banner-header p {
            position: relative;
            z-index: 2;
            text-shadow: 0 0 15px rgba(251, 191, 36, 0.6), 0 0 5px rgba(0,0,0,1);
        }
        .banner-header h1 {
            font-family: 'Cinzel', serif;
            font-size: 3rem;
        }
        
        /* --- Home Button --- */
        .ygo-home-button {
            position: fixed; top: 20px; left: 20px; z-index: 1000;
            background: linear-gradient(135deg, #1e1b4b 0%, #312e81 50%, #1e1b4b 100%);
            color: white; border: 2px solid #a5b4fc; border-radius: 12px;
            width: 60px; height: 60px; display: flex; align-items: center; justify-content: center;
            box-shadow: 0 4px 15px rgba(165, 180, 252, 0.3), 0 0 20px rgba(165, 180, 252, 0.2);
            transition: all 0.3s ease; cursor: pointer; text-decoration: none;
        }
        .ygo-home-button:hover {
            transform: translateY(-3px) scale(1.05); border-color: #f59e0b;
            box-shadow: 0 8px 25px rgba(245, 158, 11, 0.4), 0 0 30px rgba(245, 158, 11, 0.3);
        }
        .ygo-home-button i { font-size: 22px; text-shadow: 0 0 10px rgba(245, 158, 11, 0.8); }
    </style>
</head>
<body class="p-4 md:p-8">
    <a href="index-refactored.html" class="ygo-home-button" title="Return to Archetype Nexus">
        <i class="fas fa-home"></i>
    </a>

    <div class="container mx-auto">
        <header class="banner-header text-center">
            <canvas id="starfield-banner"></canvas>
            <h1 class="text-amber-300">Metaphys</h1>
            <p class="text-lg md:text-xl text-indigo-200">A Strategic Deep Dive into the Dimensional Phantoms</p>
        </header>

        <!-- Executive Summary -->
        <section class="mb-10 md:mb-16">
            <div class="card p-6">
                <h2 class="text-xl md:text-2xl font-bold text-white mb-4">Executive Summary</h2>
                <p class="text-indigo-200">
                    The <strong class="text-accent font-bold">Metaphys</strong> archetype is a unique control strategy centered on banishing its own monsters to trigger powerful effects during the Standby Phase of the next turn. This patient, "delayed gratification" playstyle excels in a long grind game, aiming to out-resource the opponent through a recurring loop of advantage. Success with Metaphys requires foresight, predicting the opponent's plays a turn in advance to counter them before they even begin. These truly are <a href="https://yugipedia.com/wiki/Metaphys" target="_blank" class="lore-link">dimensional phantoms</a>, operating on a different strategic timeline.
                </p>
            </div>
        </section>

        <!-- Foundational Mechanics -->
        <section class="mb-10 md:mb-16">
            <h2 class="text-xl md:text-3xl font-bold text-white mb-6 text-center">Foundational Mechanics</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="card p-6">
                    <h3 class="text-xl font-bold text-white mb-2">The Standby Phase Payoff</h3>
                    <p class="text-indigo-200">Metaphys monsters trigger their primary effects when banished, activating during the next Standby Phase. They shuffle themselves back into the Deck to search, summon, or disrupt, creating a sustainable loop of advantage.</p>
                </div>
                <div class="card p-6">
                    <h3 class="text-xl font-bold text-white mb-2">War of Attrition</h3>
                    <p class="text-indigo-200">The deck's win condition is to outlast the opponent. By repeatedly clearing the board with cards like <strong class="text-accent">Metaphys Daedalus</strong> and controlling resources with <strong class="text-accent">Metaphys Dimension</strong>, the deck grinds down opponents over multiple turns.</p>
                </div>
            </div>
        </section>

        <!-- Core Cards -->
        <section class="mb-10 md:mb-16">
            <h2 class="text-xl md:text-3xl font-bold text-white mb-6 text-center">The Ethereal Pantheon: Core Cards</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Metaphys Nephthys -->
                <div class="card p-6 flex flex-col items-center">
                    <h3 class="text-xl font-bold text-accent mb-4">Metaphys Nephthys</h3>
                    <div id="nephthys-img" class="card-image-container card-placeholder mb-4">Metaphys Nephthys</div>
                    <p class="text-center text-indigo-200 text-sm">The primary searcher. When banished, it adds any "Metaphys" card from Deck to hand. When Special Summoned by a Metaphys effect, it banishes all set Spells/Traps.</p>
                </div>
                <!-- Metaphys Tyrant Dragon -->
                <div class="card p-6 flex flex-col items-center">
                    <h3 class="text-xl font-bold text-accent mb-4">Metaphys Tyrant Dragon</h3>
                    <div id="tyrant-img" class="card-image-container card-placeholder mb-4">Metaphys Tyrant Dragon</div>
                    <p class="text-center text-indigo-200 text-sm">The main summoner. When banished, it Special Summons a "Metaphys" monster from hand. When summoned by a Metaphys effect, it's a powerful, Trap-immune attacker.</p>
                </div>
                <!-- Metaphys Daedalus -->
                <div class="card p-6 flex flex-col items-center">
                    <h3 class="text-xl font-bold text-accent mb-4">Metaphys Daedalus</h3>
                    <div id="daedalus-img" class="card-image-container card-placeholder mb-4">Metaphys Daedalus</div>
                    <p class="text-center text-indigo-200 text-sm">The board wipe. When Special Summoned by a Metaphys effect, it banishes all other face-up Special Summoned monsters. A devastating reset button.</p>
                </div>
                <!-- Asymmetaphys -->
                <div class="card p-6 flex flex-col items-center">
                    <h3 class="text-xl font-bold text-accent mb-4">Asymmetaphys</h3>
                    <div id="asym-img" class="card-image-container card-placeholder mb-4">Asymmetaphys</div>
                    <p class="text-center text-indigo-200 text-sm">A key enabler. Lets you banish a "Metaphys" card from hand to draw a card, setting up your plays while maintaining hand advantage.</p>
                </div>
                 <!-- Metaphys Dimension -->
                <div class="card p-6 flex flex-col items-center">
                    <h3 class="text-xl font-bold text-accent mb-4">Metaphys Dimension</h3>
                    <div id="dimension-img" class="card-image-container card-placeholder mb-4">Metaphys Dimension</div>
                    <p class="text-center text-indigo-200 text-sm">The core control card. When another "Metaphys" card is banished, you can banish one card your opponent controls. Turns every play into disruption.</p>
                </div>
                 <!-- Aloof Lupine -->
                <div class="card p-6 flex flex-col items-center">
                    <h3 class="text-xl font-bold text-accent mb-4">Aloof Lupine</h3>
                    <div id="lupine-img" class="card-image-container card-placeholder mb-4">Aloof Lupine</div>
                    <p class="text-center text-indigo-200 text-sm">The best starter. Normal Summon it to banish a Wyrm from your hand and another from your Deck, perfectly setting up a two-monster Standby Phase.</p>
                </div>
            </div>
        </section>

        <!-- Optimal Endboard -->
        <section class="mb-10 md:mb-16">
            <h2 class="text-xl md:text-3xl font-bold text-white mb-6 text-center">The Ideal Endboard State</h2>
            <p class="text-indigo-200 mb-8 text-center max-w-2xl mx-auto">
                Unlike combo decks, the Metaphys "endboard" is not a static field of negates but a recurring state of control. The goal is to establish a loop that dismantles the opponent's resources every turn.
            </p>
            <div class="card p-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 items-center">
                    <div>
                        <h3 class="text-xl font-bold text-accent mb-4">Key Components of Control:</h3>
                        <ul class="list-disc list-inside space-y-3 text-indigo-200">
                            <li><strong>Metaphys Dimension (Field):</strong> Turns every banish effect into a piece of removal.</li>
                            <li><strong>Metaphys Nephthys (Banished):</strong> Ready to search for any answer during the opponent's Standby Phase.</li>
                            <li><strong>Metaphys Tyrant Dragon (Banished):</strong> Ready to summon a disruptive monster like Daedalus from hand.</li>
                             <li><strong>Metaphys Horus (Extra Deck):</strong> A flexible Synchro that can negate effects or steal an opponent's monster, providing an immediate on-field threat.</li>
                        </ul>
                    </div>
                    <div class="flex flex-col items-center gap-4">
                        <div id="horus-img" class="card-image-container card-placeholder">Metaphys Horus</div>
                        <div id="daedalus-end-img" class="card-image-container card-placeholder mt-4">Metaphys Daedalus</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- TCG Banlist Status -->
        <section class="mb-10 md:mb-16">
            <h2 class="text-xl md:text-3xl font-bold text-white mb-6 text-center heading-underline">Current TCG Banlist Status</h2>
            <div class="card p-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="combo-step-card p-4 rounded-lg">
                        <h4 class="text-lg font-bold text-green-400 mb-2">Unrestricted Cards</h4>
                        <ul id="unrestricted-list" class="list-disc list-inside space-y-1 text-sm text-gray-300">
                            <li>All core "Metaphys" monsters are at 3.</li>
                            <li>Metaphys Dimension, Asymmetaphys, and Metaphys Factor are all at 3.</li>
                        </ul>
                    </div>
                    <div class="combo-step-card p-4 rounded-lg">
                        <h4 class="text-lg font-bold text-yellow-400 mb-2">Limited & Semi-Limited Support</h4>
                        <ul id="limited-list" class="list-disc list-inside space-y-1 text-sm text-gray-300">
                            <!-- JS will populate this -->
                        </ul>
                    </div>
                </div>
                <div class="mt-4 p-3 bg-indigo-900 bg-opacity-40 rounded border-l-4 border-indigo-400">
                    <p id="banlist-implications" class="text-sm text-gray-300"><strong>Meta Implications:</strong> The core Metaphys engine is completely untouched by the banlist, allowing it to function at full power. Key generic support cards that enable the strategy are what players need to watch.</p>
                </div>
            </div>
        </section>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Starfield Banner Animation ---
            const canvas = document.getElementById('starfield-banner');
            if (canvas) {
                const ctx = canvas.getContext('2d');
                let stars = [];
                const numStars = 200;

                const setCanvasSize = () => {
                    canvas.width = canvas.offsetWidth;
                    canvas.height = canvas.offsetHeight;
                };

                class Star {
                    constructor() {
                        this.x = Math.random() * canvas.width;
                        this.y = Math.random() * canvas.height;
                        this.z = Math.random() * canvas.width;
                        this.size = Math.random() * 2 + 0.5;
                        this.speed = Math.random() * 0.5 + 0.1;
                    }

                    update() {
                        this.z -= this.speed;
                        if (this.z < 1) {
                            this.z = canvas.width;
                            this.x = Math.random() * canvas.width;
                            this.y = Math.random() * canvas.height;
                        }
                    }

                    draw() {
                        const x = (this.x - canvas.width / 2) * (canvas.width / this.z) + canvas.width / 2;
                        const y = (this.y - canvas.height / 2) * (canvas.width / this.z) + canvas.height / 2;
                        const radius = this.size * (canvas.width / this.z);
                        
                        ctx.beginPath();
                        ctx.arc(x, y, radius, 0, Math.PI * 2);
                        ctx.fillStyle = `rgba(224, 231, 255, ${1 - this.z / canvas.width})`;
                        ctx.fill();
                    }
                }

                function init() {
                    stars = [];
                    for (let i = 0; i < numStars; i++) {
                        stars.push(new Star());
                    }
                }

                function animate() {
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                    stars.forEach(star => {
                        star.update();
                        star.draw();
                    });
                    requestAnimationFrame(animate);
                }

                setCanvasSize();
                init();
                animate();

                window.addEventListener('resize', () => {
                    setCanvasSize();
                    init();
                });
            }

            // --- Card Image Fetching ---
            async function fetchAndDisplayCardImage(cardName, containerId) {
                const container = document.getElementById(containerId);
                if (!container) return;
                const apiUrl = `https://db.ygoprodeck.com/api/v7/cardinfo.php?name=${encodeURIComponent(cardName)}`;
                try {
                    const response = await fetch(apiUrl);
                    if (!response.ok) throw new Error(`API error`);
                    const data = await response.json();
                    const imageUrl = data?.data?.[0]?.card_images?.[0]?.image_url;
                    if (imageUrl) {
                        const img = document.createElement('img');
                        img.src = imageUrl;
                        img.alt = cardName;
                        img.className = 'card-image';
                        container.innerHTML = '';
                        // Add cosmic icon overlay for core cards
                        let icon = '';
                        switch(cardName) {
                            case 'Metaphys Nephthys':
                                icon = `<svg class='card-icon' viewBox='0 0 32 32'><circle cx='16' cy='16' r='14' fill='#f0abfc' stroke='#a5b4fc' stroke-width='2'/><path d='M16 8 L20 24 L12 24 Z' fill='#ede9fe'/></svg>`;
                                break;
                            case 'Metaphys Tyrant Dragon':
                                icon = `<svg class='card-icon' viewBox='0 0 32 32'><ellipse cx='16' cy='16' rx='14' ry='10' fill='#a5b4fc' stroke='#f0abfc' stroke-width='2'/><path d='M16 10 L24 22 L8 22 Z' fill='#ede9fe'/></svg>`;
                                break;
                            case 'Metaphys Daedalus':
                                icon = `<svg class='card-icon' viewBox='0 0 32 32'><rect x='6' y='6' width='20' height='20' rx='8' fill='#ede9fe' stroke='#a5b4fc' stroke-width='2'/><circle cx='16' cy='16' r='6' fill='#f0abfc'/></svg>`;
                                break;
                            case 'Asymmetaphys':
                                icon = `<svg class='card-icon' viewBox='0 0 32 32'><polygon points='16,4 28,28 4,28' fill='#a5b4fc' stroke='#f0abfc' stroke-width='2'/></svg>`;
                                break;
                            case 'Metaphys Dimension':
                                icon = `<svg class='card-icon' viewBox='0 0 32 32'><rect x='8' y='8' width='16' height='16' rx='4' fill='#f0abfc' stroke='#a5b4fc' stroke-width='2'/></svg>`;
                                break;
                            case 'Aloof Lupine':
                                icon = `<svg class='card-icon' viewBox='0 0 32 32'><ellipse cx='16' cy='20' rx='10' ry='6' fill='#ede9fe' stroke='#a5b4fc' stroke-width='2'/><circle cx='16' cy='12' r='6' fill='#a5b4fc'/></svg>`;
                                break;
                            case 'Metaphys Horus':
                                icon = `<svg class='card-icon' viewBox='0 0 32 32'><rect x='10' y='10' width='12' height='12' rx='3' fill='#f0abfc' stroke='#a5b4fc' stroke-width='2'/></svg>`;
                                break;
                        }
                        container.innerHTML = icon;
                        container.appendChild(img);
                    } else {
                        throw new Error("Image not found");
                    }
                } catch (error) {
                    console.error(`Failed to fetch image for "${cardName}":`, error);
                }
            }

            const cardsToLoad = {
                'nephthys-img': 'Metaphys Nephthys',
                'tyrant-img': 'Metaphys Tyrant Dragon',
                'daedalus-img': 'Metaphys Daedalus',
                'asym-img': 'Asymmetaphys',
                'dimension-img': 'Metaphys Dimension',
                'lupine-img': 'Aloof Lupine',
                'horus-img': 'Metaphys Horus',
                'daedalus-end-img': 'Metaphys Daedalus'
            };

            for (const [id, name] of Object.entries(cardsToLoad)) {
                fetchAndDisplayCardImage(name, id);
            }
            
            // --- Banlist Check ---
            async function checkBanlist() {
                const cardNamesToCheck = ['Gold Sarcophagus', 'Macro Cosmos', 'Dimensional Fissure', 'Dimension Shifter'];
                const limitedList = document.getElementById('limited-list');
                
                try {
                    const response = await fetch('https://db.ygoprodeck.com/api/v7/cardinfo.php?banlist=tcg');
                    if (!response.ok) {
                        limitedList.innerHTML = '<li>Could not fetch banlist data.</li>';
                        return;
                    }
                    const data = await response.json();
                    const cardData = data.data;

                    limitedList.innerHTML = ''; // Clear previous entries

                    cardNamesToCheck.forEach(name => {
                        const card = cardData.find(c => c.name === name);
                        const li = document.createElement('li');
                        if (card && card.banlist_info && card.banlist_info.ban_tcg) {
                            const status = card.banlist_info.ban_tcg;
                            let statusColor = 'text-yellow-400';
                            if (status === 'Banned') {
                                statusColor = 'text-red-400';
                            }
                            li.innerHTML = `<strong class="${statusColor}">${name} (${status})</strong>`;
                        } else {
                            li.innerHTML = `<strong class="text-green-400">${name} (Unlimited)</strong>`;
                        }
                        limitedList.appendChild(li);
                    });
                } catch (error) {
                    console.error('Error fetching banlist:', error);
                    limitedList.innerHTML = '<li>Error loading banlist status.</li>';
                }
            }

            checkBanlist();
        });
    </script>
</body>
</html>
