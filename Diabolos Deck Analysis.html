<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diabolos & Lair of Darkness Analysis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="assets/js/card-loader.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #110f1b; /* Deep, dark purple-blue */
            color: #e0e7ff; /* Light lavender white */
        }
        .container {
            max-width: 1024px;
        }
        .card {
            background-color: rgba(18, 16, 29, 0.8);
            border-radius: 1rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
            border: 1px solid #5a3c8a; /* Muted purple border */
            backdrop-filter: blur(10px);
        }
        .combo-step-card, .pro-con-card {
            background-color: rgba(28, 25, 47, 0.8);
            border: 1px solid #7e57c2;
        }
        .card-image-container {
            width: 100%;
            max-width: 180px;
            flex-shrink: 0;
        }
        .card-image {
            width: 100%;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeIn {
            animation: fadeIn 0.5s ease-in-out forwards;
        }
        .card-placeholder {
            background-color: #2e2649;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            font-size: 0.75rem;
            line-height: 1rem;
            font-weight: bold;
            height: 100%;
            min-height: 250px;
            border-radius: 0.5rem;
            padding: 0.5rem;
            box-shadow: 0 0 10px #2a2457;
            border: 1px dashed #7e57c2;
        }
        .pro-icon { color: #34d399; }
        .con-icon { color: #ef4444; }
        .neutral-icon { color: #60a5fa; }
        .text-accent { color: #f472b6; } /* Malefic Pink/Magenta for accents */
        .arrow-color { color: #f472b6; }
        .heading-underline {
            border-bottom: 2px solid #f472b6;
            display: inline-block;
            padding-bottom: 0.25rem;
        }
        .lore-link {
            color: #f472b6;
            font-weight: bold;
            text-decoration: none;
            border-bottom: 1px dotted #f472b6;
            transition: color 0.3s, text-shadow 0.3s;
        }
        .lore-link:hover {
            color: #fff;
            text-shadow: 0 0 5px #f472b6;
        }

        /* --- NEW DIABOLOS ANIMATED BANNER --- */
        .banner-header {
            position: relative;
            min-height: 160px;
            background-color: #110f1b;
            border-radius: 1rem;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 2rem;
            margin-bottom: 2.5rem;
            border: 1px solid #5a3c8a;
        }

        #shadow-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        .banner-header::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: radial-gradient(ellipse at center, rgba(17, 15, 27, 0.4) 0%, rgba(17, 15, 27, 0.9) 100%);
            z-index: 2;
        }

        .banner-header h1, .banner-header p {
            position: relative;
            z-index: 3;
            text-shadow: 0 0 15px rgba(244, 114, 182, 0.7);
        }
        
        .banner-header h1 {
             font-family: 'Cinzel', serif;
        }
    </style>
</head>
<body class="p-4 md:p-8">
    <div class="container mx-auto">
        <!-- Title Section -->
        <header class="banner-header text-center">
            <canvas id="shadow-canvas"></canvas>
            <h1 class="text-3xl md:text-5xl font-extrabold text-white mb-2">Lords of the Lair</h1>
            <p class="text-lg md:text-xl text-pink-200">A Deep Dive into the Diabolos Tribute Engine</p>
        </header>

        <!-- Executive Summary Section -->
        <section class="mb-10 md:mb-16 animate-fadeIn">
            <div class="card p-6">
                <h2 class="text-xl md:text-2xl font-bold text-white mb-4 heading-underline">Deconstructing the Lair</h2>
                <p class="text-indigo-200">
                    The "Diabolos" series, headlined by <strong class="text-accent">Darkest Diabolos, Lord of the Lair</strong>, is not a traditional archetype but a powerful, flexible control engine. Centered around the Field Spell <strong class="text-accent">Lair of Darkness</strong>, it operates on a devastating principle: turning an opponent's monsters into fuel for a relentless barrage of tribute-based disruptive effects. This strategy shifts focus from archetypal synergy to a holistic tribute system, allowing it to be integrated into a wide variety of DARK-attribute strategies, making it a potent core for board control and resource denial.
                </p>
            </div>
        </section>

        <!-- The Pillars of the Strategy Section -->
        <section class="mb-10 md:mb-16 animate-fadeIn" style="animation-delay: 0.2s;">
            <h2 class="text-xl md:text-3xl font-bold text-white mb-8 text-center heading-underline">The Pillars of the Strategy</h2>
            <div class="space-y-6">
                <!-- Lair of Darkness -->
                <div class="card p-4 md:p-6 flex flex-col md:flex-row items-center gap-4">
                    <div id="lair-img-container" class="card-image-container flex-shrink-0 card-placeholder">Lair of Darkness</div>
                    <div class="flex-grow">
                        <h3 class="text-xl font-bold text-accent mb-2">Lair of Darkness (Field Spell)</h3>
                        <p class="text-sm text-indigo-200">The heart of the engine. It turns all monsters DARK and allows you to tribute one of your opponent's DARK monsters once per turn for an effect cost. It also generates "Torment Tokens" in the End Phase, providing a constant supply of tribute fodder.</p>
                    </div>
                </div>
                 <!-- Darkest Diabolos -->
                <div class="card p-4 md:p-6 flex flex-col md:flex-row items-center gap-4">
                    <div id="diabolos-img-container" class="card-image-container flex-shrink-0 card-placeholder">Darkest Diabolos, Lord of the Lair</div>
                    <div class="flex-grow">
                        <h3 class="text-xl font-bold text-accent mb-2">Darkest Diabolos, Lord of the Lair</h3>
                        <p class="text-sm text-indigo-200">The primary boss monster. It cannot be tributed or targeted by opponents. It Special Summons itself from the hand or GY when a DARK monster is tributed, creating a persistent threat. Its effect lets you tribute a DARK monster to disrupt your opponent's hand.</p>
                    </div>
                </div>
                 <!-- Ahrima -->
                <div class="card p-4 md:p-6 flex flex-col md:flex-row items-center gap-4">
                     <div id="ahrima-img-container" class="card-image-container flex-shrink-0 card-placeholder">Ahrima, the Wicked Warden</div>
                    <div class="flex-grow">
                        <h3 class="text-xl font-bold text-accent mb-2">Ahrima, the Wicked Warden</h3>
                        <p class="text-sm text-indigo-200">The engine's main consistency tool. You can discard it to search for "Lair of Darkness". On the field, you can tribute a DARK monster to draw a card or search for a DARK monster with 2000+ DEF, including Diabolos itself.</p>
                    </div>
                </div>
                 <!-- Lilith -->
                <div class="card p-4 md:p-6 flex flex-col md:flex-row items-center gap-4">
                    <div id="lilith-img-container" class="card-image-container flex-shrink-0 card-placeholder">Lilith, Lady of Lament</div>
                    <div class="flex-grow">
                        <h3 class="text-xl font-bold text-accent mb-2">Lilith, Lady of Lament</h3>
                        <p class="text-sm text-indigo-200">The versatile toolbox searcher. By tributing a DARK monster, her Quick Effect lets you reveal 3 Normal Traps from your deck, and your opponent randomly chooses one for you to Set. This provides access to powerful disruption like the "Virus" traps.</p>
                    </div>
                </div>
                <!-- Diabolos, King of the Abyss -->
                <div class="card p-4 md:p-6 flex flex-col md:flex-row items-center gap-4">
                    <div id="king-diabolos-img-container" class="card-image-container flex-shrink-0 card-placeholder">Diabolos, King of the Abyss</div>
                    <div class="flex-grow">
                        <h3 class="text-xl font-bold text-accent mb-2">Diabolos, King of the Abyss</h3>
                        <p class="text-sm text-indigo-200">The original incarnation. This Level 7 Dragon cannot be Special Summoned and has a much slower form of hand control, letting you see the top card of your opponent's deck and move it. It's largely outclassed but shows the theme's evolution.</p>
                    </div>
                </div>
                <!-- Lightray Diabolos -->
                <div class="card p-4 md:p-6 flex flex-col md:flex-row items-center gap-4">
                    <div id="lightray-diabolos-img-container" class="card-image-container flex-shrink-0 card-placeholder">Lightray Diabolos</div>
                    <div class="flex-grow">
                        <h3 class="text-xl font-bold text-accent mb-2">Lightray Diabolos</h3>
                        <p class="text-sm text-indigo-200">A LIGHT counterpart that works outside the Lair engine. It can be Special Summoned from the hand if you have 5 or more different LIGHT monsters in your GY. Once per turn, you can banish a LIGHT monster from your GY to target one of your opponent's Set cards and reveal it, then place it on the top or bottom of the Deck.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- The Art of Tribute Section -->
        <section class="mb-10 md:mb-16 animate-fadeIn" style="animation-delay: 0.4s;">
            <h2 class="text-xl md:text-3xl font-bold text-white mb-6 text-center heading-underline">The Art of Tribute</h2>
             <p class="text-indigo-200 mb-8 text-center max-w-2xl mx-auto">
                Mastering this engine means turning your opponent's board into your greatest resource. This loop converts their summons into your advantage, allowing you to <a href="https://www.db.yugioh-card.com/yugiohdb/card_search.action?ope=1&sess=1&keyword=diabolos&stype=1&ctype=&starfr=&starto=&pscalefr=&pscaleto=&linkmarkerfr=&linkmarkerto=&link_m=2&atkfr=&atkto=&deffr=&defto=" target="_blank" class="lore-link">unleash the full might of the Lair's denizens</a>.
            </p>
            <div class="card p-6">
                <div class="space-y-6">
                    <div>
                        <h3 class="text-lg font-bold flex items-center mb-2"><span class="bg-[#110f1b] text-white rounded-full h-8 w-8 flex items-center justify-center font-bold mr-3 border border-pink-400">1</span>Establish the Lair</h3>
                        <p class="text-indigo-200 ml-11">The primary goal is to activate "Lair of Darkness." The most reliable way is by discarding <strong class="text-accent">Ahrima, the Wicked Warden</strong> to search the Field Spell from your deck.</p>
                    </div>
                    <div>
                        <h3 class="text-lg font-bold flex items-center mb-2"><span class="bg-[#110f1b] text-white rounded-full h-8 w-8 flex items-center justify-center font-bold mr-3 border border-pink-400">2</span>Initiate the Tribute Loop</h3>
                        <p class="text-indigo-200 ml-11">With Lair active, activate an effect like <strong class="text-accent">Lilith, Lady of Lament</strong>. Use Lair's effect to tribute one of your opponent's monsters (now DARK) as the cost. This removes their monster and resolves your effect.</p>
                    </div>
                     <div>
                        <h3 class="text-lg font-bold flex items-center mb-2"><span class="bg-[#110f1b] text-white rounded-full h-8 w-8 flex items-center justify-center font-bold mr-3 border border-pink-400">3</span>Summon Diabolos</h3>
                        <p class="text-indigo-200 ml-11">Because you tributed a DARK monster, the condition for <strong class="text-accent">Darkest Diabolos, Lord of the Lair</strong> is met. You can now Special Summon it from your hand or Graveyard as a non-activated effect, re-establishing your board presence for free.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- The Final Configuration Section -->
        <section class="mb-10 md:mb-16 animate-fadeIn" style="animation-delay: 0.6s;">
            <h2 class="text-xl md:text-3xl font-bold text-white mb-6 text-center heading-underline">The Final Configuration: The "Soft Lock"</h2>
            <div class="card p-6">
                <p class="text-indigo-200 mb-4">
                    The ideal end board for this engine is not an unbreakable wall of negates, but a dynamic and reactive "soft lock." This state makes every move the opponent makes incredibly costly, systematically stripping them of resources.
                </p>
                <ul class="list-disc list-inside space-y-2 text-indigo-200">
                    <li><strong class="text-accent">Persistent Threat:</strong> <strong class="text-accent">Darkest Diabolos</strong> on field, immune to targeting and tributing, ready to disrupt the opponent's hand.</li>
                    <li><strong class="text-accent">Active Engine:</strong> <strong class="text-accent">Lair of Darkness</strong> enabling your tribute mechanics and generating tokens.</li>
                    <li><strong class="text-accent">Reactive Disruption:</strong> A Set Normal Trap (like a "Virus" card) searched by <strong class="text-accent">Lilith</strong>, ready to dismantle the opponent's strategy on their turn.</li>
                    <li><strong class="text-accent">Recursive Power:</strong> Even if Diabolos is removed, the next tribute you perform will immediately bring it back from the Graveyard, continuing the oppressive cycle.</li>
                </ul>
            </div>
        </section>


        <!-- Competitive Analysis Section -->
        <section class="animate-fadeIn mb-10 md:mb-16" style="animation-delay: 0.8s;">
            <h2 class="text-xl md:text-3xl font-bold text-white mb-6 text-center heading-underline">Strategic Recommendations</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Piloting the Deck -->
                <div class="card p-6 pro-con-card">
                    <h3 class="text-xl font-bold text-green-400 mb-4 flex items-center gap-3"><i class="fas fa-check-circle"></i>Piloting for Success</h3>
                    <ul class="list-disc list-inside space-y-2 text-indigo-200">
                        <li><strong class="text-green-300">Protect the Lair:</strong> Your entire strategy depends on keeping Lair of Darkness on the field. Prioritize searching and protecting it.</li>
                        <li><strong class="text-green-300">Master the Virus Toolbox:</strong> Use Lilith to search the correct "Virus" trap for the matchup. Siding different Virus cards is key to victory.</li>
                        <li><strong class="text-green-300">Bait Interaction:</strong> Use less critical plays to draw out your opponent's hand traps, clearing the way for your core engine pieces to resolve.</li>
                    </ul>
                </div>
                <!-- Countering the Strategy -->
                <div class="card p-6 pro-con-card">
                    <h3 class="text-xl font-bold text-red-400 mb-4 flex items-center gap-3"><i class="fas fa-times-circle"></i>Countering the Strategy</h3>
                    <ul class="list-disc list-inside space-y-2 text-indigo-200">
                        <li><strong class="text-red-300">Target the Field Spell:</strong> The deck's biggest weakness is its reliance on Lair. Spell/Trap removal like Cosmic Cyclone or Harpie's Feather Duster is crippling.</li>
                        <li><strong class="text-red-300">Negate the Searchers:</strong> Stop Lair from ever hitting the field by negating Ahrima with Ash Blossom, or negating Lilith's on-field effect.</li>
                        <li><strong class="text-red-300">Use Tribute Immunity:</strong> Monsters that "Cannot be Tributed" are a hard counter to the deck's primary removal mechanic.</li>
                    </ul>
                </div>
            </div>
        </section>
             
        

        <!-- TCG Banlist Impact Section -->
        <section>
            <div id="banlist-status">
                <!-- Banlist section will be populated by CardLoader.renderBanlistSection -->
            </div>
        </section>

    </div>
    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            // --- DIABOLOS SHADOW ANIMATION ---
            const canvas = document.getElementById('shadow-canvas');
            if (canvas) {
                const ctx = canvas.getContext('2d');
                let tendrils = [];
                const numTendrils = 40;

                const setCanvasSize = () => {
                    canvas.width = canvas.offsetWidth;
                    canvas.height = canvas.offsetHeight;
                };

                class Tendril {
                    constructor(x, y) {
                        this.x = x;
                        this.y = y;
                        this.segments = [];
                        for (let i = 0; i < 20; i++) {
                            this.segments.push({ x: x, y: y });
                        }
                        this.angle = Math.random() * Math.PI * 2;
                        this.speed = Math.random() * 0.5 + 0.1;
                        this.color = `rgba(244, 114, 182, ${Math.random() * 0.15 + 0.05})`;
                    }
                    update() {
                        this.angle += (Math.random() - 0.5) * 0.4;
                        const head = this.segments[0];
                        head.x += Math.cos(this.angle) * this.speed;
                        head.y += Math.sin(this.angle) * this.speed;

                        if (head.x < 0 || head.x > canvas.width || head.y < 0 || head.y > canvas.height) {
                           this.reset();
                        }

                        for (let i = 1; i < this.segments.length; i++) {
                            const prev = this.segments[i - 1];
                            const current = this.segments[i];
                            const dx = prev.x - current.x;
                            const dy = prev.y - current.y;
                            current.x += dx * 0.5;
                            current.y += dy * 0.5;
                        }
                    }
                    draw() {
                        ctx.beginPath();
                        ctx.moveTo(this.segments[0].x, this.segments[0].y);
                        for (let i = 1; i < this.segments.length - 2; i++) {
                             const xc = (this.segments[i].x + this.segments[i + 1].x) / 2;
                             const yc = (this.segments[i].y + this.segments[i + 1].y) / 2;
                             ctx.quadraticCurveTo(this.segments[i].x, this.segments[i].y, xc, yc);
                        }
                        ctx.lineWidth = 1.5;
                        ctx.strokeStyle = this.color;
                        ctx.stroke();
                    }
                     reset(){
                        this.x = Math.random() * canvas.width;
                        this.y = Math.random() * canvas.height;
                        this.segments.forEach(seg => {
                            seg.x = this.x;
                            seg.y = this.y;
                        });
                        this.angle = Math.random() * Math.PI * 2;
                    }
                }

                function initTendrils() {
                    tendrils = [];
                    for (let i = 0; i < numTendrils; i++) {
                        tendrils.push(new Tendril(Math.random() * canvas.width, Math.random() * canvas.height));
                    }
                }

                function animate() {
                    ctx.fillStyle = 'rgba(17, 15, 27, 0.1)';
                    ctx.fillRect(0, 0, canvas.width, canvas.height);
                    tendrils.forEach(t => {
                        t.update();
                        t.draw();
                    });
                    requestAnimationFrame(animate);
                }

                setCanvasSize();
                initTendrils();
                animate();

                window.addEventListener('resize', () => {
                    setCanvasSize();
                    initTendrils();
                });
            }


            CardLoader.loadCards({
                'lair-img-container': 'Lair of Darkness',
                'diabolos-img-container': 'Darkest Diabolos, Lord of the Lair',
                'ahrima-img-container': 'Ahrima, the Wicked Warden',
                'lilith-img-container': 'Lilith, Lady of Lament',
                'king-diabolos-img-container': 'Diabolos, King of the Abyss',
                'lightray-diabolos-img-container': 'Lightray Diabolos',
            });


            // Render banlist section
            await CardLoader.renderBanlistSectionByArchetype('banlist-status', 'Diabolos', {
                relatedCards: []
            });});
    </script>
</body>
</html>


